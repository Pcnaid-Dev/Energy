(function(e){function t(t){for(var n,i,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,i=1;i<r.length;i++){var o=r[i];0!==a[o]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},i={app:0},a={app:0},s=[];function o(e){return c.p+"js/"+({congratulations:"congratulations","customer-form/load-data":"customer-form/load-data","customer-form/step-account~customer-form/step-customer-info":"customer-form/step-account~customer-form/step-customer-info","customer-form/step-account":"customer-form/step-account","customer-form/step-customer-info":"customer-form/step-customer-info","customer-form/step-view":"customer-form/step-view","load-offer-proposal-data":"load-offer-proposal-data","load-proposal-data":"load-proposal-data","start-journey":"start-journey"}[e]||e)+".a284fb4734e1dbc1f531.1726825162760.js"}function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={"chunk-50dd5bb8":1,"chunk-9dc5971e":1,congratulations:1,"customer-form/step-account~customer-form/step-customer-info":1,"customer-form/step-account":1,"customer-form/step-customer-info":1,"customer-form/step-view":1};i[e]?t.push(i[e]):0!==i[e]&&r[e]&&t.push(i[e]=new Promise((function(t,r){for(var n="css/"+({congratulations:"congratulations","customer-form/load-data":"customer-form/load-data","customer-form/step-account~customer-form/step-customer-info":"customer-form/step-account~customer-form/step-customer-info","customer-form/step-account":"customer-form/step-account","customer-form/step-customer-info":"customer-form/step-customer-info","customer-form/step-view":"customer-form/step-view","load-offer-proposal-data":"load-offer-proposal-data","load-proposal-data":"load-proposal-data","start-journey":"start-journey"}[e]||e)+"."+{"chunk-50dd5bb8":"4da9c9e2","chunk-9dc5971e":"161f7826",congratulations:"9d949c8a","customer-form/load-data":"31d6cfe0","customer-form/step-account~customer-form/step-customer-info":"4f4819c7","customer-form/step-account":"1eafe48a","customer-form/step-customer-info":"02f845ac","customer-form/step-view":"0f8cbdbb","load-offer-proposal-data":"31d6cfe0","load-proposal-data":"31d6cfe0","start-journey":"31d6cfe0"}[e]+".css",a=c.p+n,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var l=s[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===a))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===n||u===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete i[e],p.parentNode.removeChild(p),r(s)},p.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){i[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(p);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",d.name="ChunkLoadError",d.type=n,d.request=i,r[1](d)}a[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://myservicecloud.net/js/widgets/comm-pricing/build/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0022":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"theme__form-item"},[r("el-date-picker",{staticClass:"date-picker tw-w-full",class:{"not-empty":e.notEmpty,focus:e.inFocus},attrs:{value:e.value,placeholder:" ","popper-class":e.popperClass,"picker-options":e.pickerOptions,clearable:e.clearable,disabled:e.disabled,format:"MM/dd/yyyy","value-format":"yyyy-MM-dd",type:"date"},on:{focus:function(t){e.inFocus=!0},blur:function(t){e.inFocus=!1},change:function(t){return e.$emit("change",t)},input:function(t){return e.$emit("input",t)}}}),r("label",{staticClass:"tw-text-sm"},[e._v(e._s(e.label))])],1)},i=[],a=r("625e"),s={name:"DatePicker",mixins:[a["a"]],data:function(){return{inFocus:!1,pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}}}},props:{value:{type:[String,Date],default:null},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},popperClass:{type:String,default:null}}},o=s,c=(r("ec82"),r("2877")),l=Object(c["a"])(o,n,i,!1,null,"02c35534",null);t["a"]=l.exports},"0242":function(e,t,r){e.exports=r.p+"img/amazon.aa1686f9.png"},"036d":function(e,t,r){},"0545":function(e,t,r){},"09ad":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"theme__form-item tw-relative",class:{error:e.warning}},[r("el-input",{ref:"elementInput",staticClass:"tex-box tw-w-full",class:{"not-empty":e.notEmpty,focus:e.inFocus},attrs:{underlinecolorandroid:"transparent",autocorrect:"false",spellcheck:"false",value:e.value,placeholder:" ",clearable:e.clearable,disabled:e.disabled},on:{focus:function(t){e.inFocus=!0},blur:function(t){e.inFocus=!1},input:function(t){return e.$emit("input",t)}}}),r("label",{staticClass:"tw-text-sm"},[e._v(e._s(e.label)),e.asterisk?r("span",{staticClass:"asterisk"},[e._v("*")]):e._e()])],1)},i=[],a=(r("a9e3"),r("625e")),s={name:"TextBox",mixins:[a["a"]],data:function(){return{inFocus:!1}},props:{value:{type:[String,Number],default:null},label:{type:String,required:!0},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},warning:{type:Boolean,default:!1},asterisk:{type:Boolean,default:!1}}},o=s,c=(r("a3ac"),r("2877")),l=Object(c["a"])(o,n,i,!1,null,"63596cd1",null);t["a"]=l.exports},"0b1a":function(e,t,r){},1:function(e,t){},10:function(e,t){},1062:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"theme__form-item tw-relative",class:{error:e.warning}},[r("el-select",{ref:"elSelect",staticClass:"select tw-w-full",class:{"not-empty":e.notEmpty,focus:e.inFocus},attrs:{value:e.value,placeholder:" ","popper-class":e.popperClass,clearable:e.clearable,filterable:e.filterable,"allow-create":e.allowCreate,disabled:e.disabled,loading:e.loading,"remote-method":e.remoteMethod,remote:e.remote},on:{"hook:mounted":e.cancalReadOnly,"visible-change":e.cancalReadOnly,focus:function(t){e.inFocus=!0},blur:e.onBlur,change:e.onChange}},[e._t("default")],2),r("label",{staticClass:"tw-text-sm"},[e._v(e._s(e.label)),e.asterisk?r("span",{staticClass:"asterisk"},[e._v("*")]):e._e()])],1)},i=[],a=(r("4de4"),r("a630"),r("3ca3"),r("625e")),s={name:"SelectBox",mixins:[a["a"]],data:function(){return{inFocus:!1,checkRemote:!0}},props:{clearable:{type:Boolean,default:!1},remote:{type:Boolean,default:!1},remoteMethod:{default:null},loading:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},allowCreate:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},warning:{type:Boolean,default:!1},asterisk:{type:Boolean,default:!1},popperClass:{type:String,default:null},checkRemoteValue:{type:Function,default:null}},computed:{inputText:function(){return this.$refs.elSelect.$refs.reference.$refs.input}},mounted:function(){var e=this;this.inputText.addEventListener("keydown",(function(t){9===t.keyCode&&e.checkAndUpdateValue()})),this.inputText.addEventListener("input",(function(t){e.checkRemote=!0,e.$refs.elSelect.debouncedQueryChange(t)})),this.inputText.addEventListener("focusout",(function(){e.checkAndUpdateValue()}))},methods:{cancalReadOnly:function(e){var t=this;this.$nextTick((function(){if(!e)try{var r=t.$refs.elSelect;if(r){var n=r.$el.querySelector(".el-input__inner");n&&n.removeAttribute("readonly")}}catch(i){}}))},checkAndUpdateValue:function(){var e=this,t=this.inputText.value,r=Array.from(this.$refs.elSelect.$refs.popper.$el.getElementsByTagName("li")).filter((function(e){return"none"!==e.style.display}));if(1===r.length&&r[0].__vue__){var n=r[0].__vue__,i=n.label,a=n.value;(i&&i.toLowerCase()===t.toLowerCase()||a&&a.toLowerCase()===t.toLowerCase())&&(this.onChange(a),this.checkRemote=!1)}this.checkRemoteValue&&this.checkRemote&&(this.checkRemote=!1,this.onChange(t),this.checkRemoteValue(t).then((function(t){t?e.onChange(t):e.onChange("")})))},onBlur:function(){this.inFocus=!1,this.checkAndUpdateValue()},onChange:function(e){this.$emit("input",e),this.$emit("change",e)}}},o=s,c=(r("4c81"),r("2877")),l=Object(c["a"])(o,n,i,!1,null,"735c2895",null);t["a"]=l.exports},"139c":function(e,t,r){},1522:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}}),r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"}})])},i=[],a={name:"CameraIcon"},s=a,o=r("2877"),c=Object(o["a"])(s,n,i,!1,null,"3a860544",null);t["a"]=c.exports},1645:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r("d4ec"),i=r("bee2"),a=r("262e"),s=r("2caf"),o=(r("a9e3"),r("8ae6")),c=r("66a7"),l=r("9242"),u=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"config",value:function(){return{FirstName:{type:String,default:"",serverField:"first_name"},LastName:{type:String,default:"",serverField:"last_name"}}}}]),r}(l["a"]),d=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"config",value:function(){return{PhoneNumber:{type:String,default:"",serverField:"phone_number"}}}}]),r}(l["a"]),p=r("9a13"),f=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"config",value:function(){return{instructions:{default:{ifExists:"AssociateAndOverwrite"}},Accounts:{label:"Accounts",serverField:"accounts",listOfType:o["a"],default:[]},BusinessName:{label:"Business Name",type:String,default:"",serverField:"business_name"},BusinessType:{label:"Business Type",type:String,default:"Limited Liability Company",serverField:"business_type"},ContactAddressAccountIndex:{skipServer:!0,default:0,type:Number},ContactAddressText:{skipServer:!0,default:"",type:String},ContactAddress:{type:c["a"],serverField:"contact_address"},ContactAddressChanged:{skipServer:!0,default:0,type:Number},CustomerName:{type:u,default:u.default(),serverField:"customer_name"},CustomerPosition:{type:String,serverField:"customer_position"},Documents:{label:"Documents",serverField:"documents",listOfType:p["a"],default:null},Email:{label:"Email Address",type:String,default:"",serverField:"email"},Ein:{label:"Ein",type:String,default:null,serverField:"ein"},Industry:{type:String,default:"Other",serverField:"industry"},Phones:{label:"Phone",serverField:"phones",listOfType:d,default:[d.default()]},Commodity:{skipServer:!0},GasRateClass:{skipServer:!0},ElectricRateClass:{skipServer:!0},TaxExemptRequired:{serverField:"is_tax_exempt",prepareServer:function(e){return"Yes"===e},default:"No"}}}}],[{key:"fromScanBillResponse",value:function(e){return this.fromServer({accounts:[{account_number:e.account_number,service_address_text:e.address}],business_name:e.business_name})}}]),r}(l["a"])},1877:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r("d4ec"),i=r("bee2"),a=r("262e"),s=r("2caf"),o=(r("a9e3"),r("c466")),c=r("9242"),l=r("1645"),u=r("8a7c"),d=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"config",value:function(){return{PriceId:{type:Number,serverField:"price_id",default:null},BrokerFee:{type:Number,default:null,serverField:"broker_fee"},StartDateChoose:{type:String,default:"as_possible",skipServer:!0},StartDate:{type:String,serverField:"start_date",default:null,prepareServer:function(e){return o["a"].convertToDB(e)}},BasePrice:{type:Number,serverField:"base_price"},OfferedPrice:{type:Number,serverField:"offered_price"},Customer:{type:l["a"],default:l["a"].default(),serverField:"customer"},FrozenResultHistoryId:{type:Number,serverField:"frozen_result_history_id",default:null},EnrollmentDetails:{default:null,type:u["a"],skipServer:!0},JourneyGuid:{type:String,default:null,serverField:"journey_guid"},OfferData:{type:Object,prepareServer:function(e){return e?e.offer_id:null},serverField:"offer_id",default:null}}}}],[{key:"getDefaultStartDate",value:function(){var e,t=new Date;return e=11===t.getMonth()?new Date(t.getFullYear()+1,0,1):new Date(t.getFullYear(),t.getMonth()+1,1),o["a"].convertToDB(e)}}]),r}(c["a"])},2:function(e,t){},2138:function(e,t,r){},"25a9":function(e,t,r){},"26d4":function(e,t,r){e.exports=r.p+"img/prod.c27a568e.jpg"},2825:function(e,t,r){},"29de":function(e,t,r){"use strict";t["a"]={proposal:{hasProposalJourney:function(){return sessionStorage.getItem("fromProposal")},getProposalJourneyParams:function(){return JSON.parse(sessionStorage.getItem("fromProposal"))},initProposalJourney:function(e){sessionStorage.setItem("fromProposal",JSON.stringify(e))},finishProposalJourney:function(){sessionStorage.removeItem("fromProposal")}},offerProposal:{hasProposalJourney:function(){return sessionStorage.getItem("fromOfferProposal")},getProposalJourneyParams:function(){return JSON.parse(sessionStorage.getItem("fromOfferProposal"))},initProposalJourney:function(e){sessionStorage.setItem("fromOfferProposal",JSON.stringify(e))},finishProposalJourney:function(){sessionStorage.removeItem("fromOfferProposal")}}}},"2b7d":function(e,t,r){e.exports=r.p+"img/coffe.666f627a.jpg"},"2cb7":function(e,t,r){"use strict";r("8f66")},3:function(e,t){},3120:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAmCAYAAAC29NkdAAAD4UlEQVRYR+2W+0sUURTHz501gqyUsiKJil6URAQhUf4QYv9C/RLt6rrrFkEYFprrK1OyJMQe5L5nN+in/oOyB4RE+UMRShIU5Q8VQZJmPwTOjXMfO7Pj7s7oam7QwMA8ztz7me/3nHMvgTw/SJ7zwX/AXB36r+A/p2B3vJAitN81bcs9W0G5qoDfSzA5Vt4AmsHyBjAT2JIDdqpFLwih5QQw1Vi6Ab9OPZbE4nZ1LUUY4wmE3yOsEfSvAvpjGwWYBkQAEdCSYAqFSlC0xzooVvFPWwVqKyhbFTdGt1AGw8A0UJhSHI4QLakcVxWfo+cUWl2Ttua2FZQJsCGykyIETq6wyXUwed1V84W0qet0hYXdy1eQ4qbjEz+sWti8Ac+G9zI4HUwDRcByOA163OPEHytNgTOq2lH93XJ+y4B0f3g6dCAFjkEyOAnM7e11vydN0c0cULxPWk0odFZ/s5zfMiAdoDd4iHK1EGgmFU6o2lf7ljREdlBF5KZUVeYqgnbXfLacP2NAd7xw0u+aXm0GrA5UCvVmOCADneFWGyy/6XlD6iN7WAHxNNBVlPdX3OPzB5TrJ1WUipaTU0MS1BmoYl1XWqUQAWeAHfAOk1OJfeuX/YavvMLNucor+pr7Q+6AEowAvd/s+nXMqKiE5erpoOG6IeILlVOzquZcvV77buEA5YKF/97qmkoO7AxW7QIKY1LVuO8Re+cJVnB7M6QAqtpfO7owgAglTaWUt2I8jW1CqpnwDbJJXYFKVkisiJKgwmqh9i3P69wAu+IrqQTDzn9JLabYkjmgAhxWgS5Rjc7A0UTC99ApYVNzVS8m2QEGvC9zA7wcX0URQkK2V0+QNrWEPeOgmFUctMf9SbddFJK5A0glpaqYqzmtJJ1qUapioDzQNFJJiVLA4AQoQvYaKtKoYDoA1F/mak6AHeoammonAVxbL8Y2UQ7n4CqyelWgr3aMOANVzbjDt5pY5qpVXFaJ29USAaLbqYHj3tWajycuRLclIVnqUwVueEYQcPbu1ERBCUTu1g16rOB4Dmc5WmIbhMXp7TwX2U016hBrhQNue17ZArSrniVgc6yUAwoL0VJUSjZY3NFo+Iwp6ABcQawUnAucJSAGNEa3UlmpEgaB+z0jTH3c2cjnIe/zrIBzhbMFeD66ndkoW4q8lk22LnSQvZctI5OC84GzBYhB9ZEyVhCoFK9aB9zxDifztyZ4hMbqnrJ7M+B8wfQ9gJ1SAoAz4f0pBUGhoDvsfdZi/twZqBpN+AbLbA5rGWbZyc0jeIKHec5RB6i+J3P+3pLIFLDoE8wVaPbymOsIi/x93iv4B5lcIUVsP0R2AAAAAElFTkSuQmCC"},"31ab":function(e,t,r){"use strict";r("2825")},"323f":function(e,t,r){"use strict";r("4de4"),r("b64b"),r("caad"),r("2532");t["a"]={props:{prices:{type:Array,default:function(){return[]}},priceFilters:{type:Object,default:function(){return{}}}},computed:{filteredPrices:function(){var e=this;return this.prices.filter((function(t){return e.isVisible(t)}))},hasRecommendation:function(){return this.$store.getters["prices/recommendedPrices"].length>0}},methods:{isVisible:function(e){if(0===this.priceFilters.length)return!0;for(var t=!0,r=Object.keys(this.priceFilters),n=0;n<r.length;n++){var i=r[n];if(t=this.priceFilters[i].includes("".concat(e[i]))||this.priceFilters[i].includes(e[i]),!t)break}return t},dismissGeoError:function(){window.localStorage.setItem("dismiss_geo_permission_error",!0)}}}},4:function(e,t){},"406f":function(e,t,r){},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id="4678"},"475e":function(e,t,r){"use strict";t["a"]={getSuffix:function(e){return"E"===e?"kWh":"G"===e?"Therm\\CCF":""}}},"4a7c":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("1da1"),i=r("d4ec"),a=r("bee2"),s=(r("96cf"),r("b018")),o=r("29de"),c=r("9b4c"),l=function(){function e(t,r){Object(i["a"])(this,e),this.$store=t,this.$router=r,this.isFromProposal=t.state.config.fromProposal,this.customerModel=t.state.enrollment.enrollmentModel.Customer,this.utilityObject=t.getters.utilityObject,this.brokerFee=t.getters["prices/brokerFee"]}return Object(a["a"])(e,[{key:"fromPriceResult",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isFromProposal){e.next=4;break}return e.next=3,this.$router.push({name:"AccountStep"});case 3:return e.abrupt("return");case 4:if(t=this.$store.getters["enrollment/utilityNumberFormat"],s["a"].isValidAccountStep(this.customerModel,this.utilityObject,t)){e.next=10;break}return e.next=8,this.$router.push({name:"AccountStep"});case 8:e.next=26;break;case 10:if(s["a"].isValidContactStep(this.customerModel)){e.next=15;break}return e.next=13,this.$router.push({name:"CustomerInfoStep"});case 13:e.next=26;break;case 15:return e.next=17,this._checkIfRateStillAvailable();case 17:if(r=e.sent,!r){e.next=23;break}return e.next=21,this.$store.dispatch("enrollment/create");case 21:e.next=26;break;case 23:this.$store.commit("showAlert",{title:"Sorry, some thing goes wrong. Please try to change Search Parameters",type:"warning"}),this.$store.commit("resetProposalJourneyStartOver"),this.$store.commit("hideLoading");case 26:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fromAccountForm",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$store.getters["enrollment/utilityNumberFormat"],s["a"].isValidAccountStep(this.customerModel,this.utilityObject,t)){e.next=5;break}return e.next=4,this.$store.dispatch("showStepErrorMessage");case 4:return e.abrupt("return");case 5:if(!this.isFromProposal){e.next=10;break}if(!s["a"].isValidContactStep(this.customerModel)){e.next=10;break}return e.next=9,this._goToGenerateContractStep();case 9:return e.abrupt("return");case 10:return r=this.$store.state.currentPriceId,n=this.$store.getters["enrollment/priceById"](r),this.$store.commit("enrollment/setSelectedPrice",{price:n,utilityCode:this.utilityObject.Code,brokerFee:this.brokerFee,rateClassCode:this.$store.getters["prices/getCurrentRateClassCode"],subTypeTitle:this.$store.getters["prices/getCurrentSubTypeTitle"]}),e.next=15,this.$router.push({name:"CustomerInfoStep"});case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fromCustomerInfo",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s["a"].isValidContactStep(this.customerModel)){e.next=4;break}return e.next=3,this.$store.dispatch("showStepErrorMessage");case 3:return e.abrupt("return");case 4:return e.next=6,this._goToGenerateContractStep();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fromContactInfo",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s["a"].isValidContactInfoStep(this.customerModel)){e.next=4;break}return e.next=3,this.$store.dispatch("showStepErrorMessage");case 3:return e.abrupt("return");case 4:return c["a"].journeyTrace.trace({first_name:this.customerModel.CustomerName.FirstName,last_name:this.customerModel.CustomerName.LastName,email_address:this.customerModel.Email,phone:"undefined"!==typeof this.customerModel.Phones[0]?this.customerModel.Phones[0].PhoneNumber:null,business_name:this.customerModel.BusinessName,customer_position:this.customerModel.CustomerPosition,journey_guid:this.customerModel.JourneyGuid,url:null!==(t=window)&&void 0!==t&&null!==(r=t.location)&&void 0!==r&&r.href?window.location.href:null}).then((function(e){n.$store.commit("enrollment/setJourneyGuid",e.jsWidgetJourneyTrace.journey_guid)})),e.next=7,this._goToBusinessAndAccountInformation();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fromBusinessAndAccountForm",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$store.getters["enrollment/utilityNumberFormat"],s["a"].isValidAccountStep(this.customerModel,this.utilityObject,t)){e.next=5;break}return e.next=4,this.$store.dispatch("showStepErrorMessage");case 4:return e.abrupt("return");case 5:if(!this.isFromProposal){e.next=10;break}if(!s["a"].isValidContactStep(this.customerModel)){e.next=10;break}return e.next=9,this._goToGenerateContractStep();case 9:return e.abrupt("return");case 10:return e.next=12,this._goToGenerateContractStep();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_goToBusinessAndAccountInformation",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$store.state.currentPriceId,r=this.$store.getters["enrollment/priceById"](t),this.$store.commit("enrollment/setSelectedPrice",{price:r,utilityCode:this.utilityObject.Code,brokerFee:this.brokerFee,rateClassCode:this.$store.getters["prices/getCurrentRateClassCode"],subTypeTitle:this.$store.getters["prices/getCurrentSubTypeTitle"]}),e.next=5,this.$router.push({name:"CustomerInfoStep"});case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_goToGenerateContractStep",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this._checkIfRateStillAvailable();case 2:if(t=e.sent,!t){e.next=9;break}return e.next=6,this.$store.dispatch("enrollment/create");case 6:this.$store.commit("enrollment/setJourneyGuid",null),e.next=21;break;case 9:if(!this.isFromProposal){e.next=18;break}return o["a"].proposal.finishProposalJourney(),e.next=13,this.$store.dispatch("prices/getPricesByParams");case 13:return e.next=15,this.$router.push({name:"Home"});case 15:this.$store.commit("showAlert",{title:"Your price has expired. Please contact your energy consultant for an updated price, and they will be happy to assist. Thank you!",type:"warning"}),e.next=21;break;case 18:return this.$store.commit("prices/resetPrices"),e.next=21,this.$router.push({name:"Home"});case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_checkIfRateStillAvailable",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$store.state.currentPriceId,r=this.$store.getters["enrollment/priceById"](t),this.$store.commit("enrollment/setSelectedPrice",{price:r,utilityCode:this.utilityObject.Code,brokerFee:this.brokerFee,rateClassCode:this.$store.getters["prices/getCurrentRateClassCode"],subTypeTitle:this.$store.getters["prices/getCurrentSubTypeTitle"]}),e.abrupt("return",this.$store.dispatch("prices/checkIfRateStillAvailable",{rate:r.Price,term:r.TermId,supplierId:r.SupplierId}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}()},"4b48":function(e,t,r){"use strict";r("7e75")},"4c81":function(e,t,r){"use strict";r("d57e")},"4d9a":function(e,t,r){"use strict";r("f3e7")},"4efa":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"}})])},i=[],a={name:"FolderIcon"},s=a,o=r("2877"),c=Object(o["a"])(s,n,i,!1,null,"502f0b0b",null);t["a"]=c.exports},5:function(e,t){},"56d7":function(e,t,r){"use strict";r.r(t);r("0fb7"),r("450d");var n,i,a=r("f529"),s=r.n(a),o=r("5530"),c=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("d3b7"),r("25f0"),r("ac1f"),r("1276"),r("2b0e")),l=r("db49"),u=r("b6d0"),d=r("1c46"),p=r.n(d),f=r("588b"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tw-relative tw-flex-1 tw-flex-col tw-max-h-full tw-h-full tw-w-full tw-m-0 tw-p-0",attrs:{id:"msc"}},[r("router-view",{directives:[{name:"show",rawName:"v-show",value:!e.isInitial,expression:"!isInitial"}]}),r("Loader",{attrs:{show:e.isLoading,"transparent-background":e.transparentLoader},scopedSlots:e._u([e.hasText?{key:"loaderText",fn:function(){return[r("p",{domProps:{innerHTML:e._s(e.htmlText)}})]},proxy:!0}:null],null,!0)})],1)},h=[],g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"theme__loader-container loader-container",class:{transparent:e.transparentBackground,"tw-absolute":e.isDemoMode,"tw-fixed":!e.isDemoMode}},[r("div",[e._t("loaderText"),r("span",{staticClass:"__loader loader"})],2)])},v=[],b={name:"Loader",props:{show:{type:Boolean,default:!1},transparentBackground:{type:Boolean,default:!0}},computed:{isDemoMode:function(){return this.$store.state.config.demoMode}}},w=b,y=(r("905f"),r("2877")),_=Object(y["a"])(w,g,v,!1,null,"1e813c18",null),C=_.exports,x={name:"App",components:{Loader:C},created:function(){this.$store.state.isGridViewAvailable&&this.$store.dispatch("loadPriceView")},computed:{isLoading:function(){return this.$store.state.appLoading},isInitial:function(){return this.$store.state.initial},transparentLoader:function(){return this.$store.state.transparentLoader},htmlText:function(){return this.$store.state.loaderHtmlText},hasText:function(){return this.htmlText.length>0},isMobile:function(){return this.$isMobile||this.$isWideMobile||this.$isTablet}}},k=x,S=Object(y["a"])(k,m,h,!1,null,null,null),P=S.exports,j=(r("3ca3"),r("ddb0"),r("8c4f")),O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isMobile&&e.cardView?r("div",{staticClass:"tw-mt-3"},[e._e(),e.hasPrices?r("PriceFilter",{staticClass:"tw-fixed tw-bottom-8 tw-right-80",attrs:{"price-sorting":e.priceSorting,"savings-only":e.savingsOnly},on:{"filters-change":e.onFiltersChange,"sorting-change":e.onSortingChange,"shows-savings-change":e.onShowSavingsChange}}):e._e(),e.hasPrices?r("PriceGridMobile",{staticClass:"tw-relative tw-z-0",attrs:{prices:e.priceWithoutRecommended,"price-filters":e.priceFilters},on:{"take-price":e.onTakePrice}}):e._e()],1):e.isGridViewAvailable&&!e.cardView?r("div",{staticClass:"tw-flex tw-flex-row"},[e.hasPrices?r("PriceFilter",{class:!e.isMobile&&"tw-flex-shrink-0 tw-w-1/3 xl:tw-w-1/5",attrs:{"price-sorting":e.priceSorting,"savings-only":e.savingsOnly},on:{"filters-change":e.onFiltersChange,"sorting-change":e.onSortingChange,"shows-savings-change":e.onShowSavingsChange}}):e._e(),e.hasPrices?r("PriceGrid",{attrs:{prices:e.prices,"price-filters":e.priceFilters},on:{"take-price":e.onTakePrice}}):e._e()],1):r("div",{staticClass:"tw-flex tw-flex-row"},[e.hasPrices?r("PriceFilter",{staticClass:"tw-flex-shrink-0 tw-w-1/3 xl:tw-w-1/5",attrs:{"price-sorting":e.priceSorting,"savings-only":e.savingsOnly},on:{"filters-change":e.onFiltersChange,"sorting-change":e.onSortingChange,"shows-savings-change":e.onShowSavingsChange}}):e._e(),e.hasPrices?r("PriceGridDesktop",{attrs:{prices:e.priceWithoutRecommended,"price-filters":e.priceFilters},on:{"take-price":e.onTakePrice}}):e._e()],1)},I=[],F=r("1da1"),T=(r("96cf"),r("d81d"),r("4de4"),r("c35a"),r("a9e3"),r("159b"),r("0481"),r("caad"),r("2532"),r("b64b"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"__price-filter",class:{"fix-mobile-filter-bg-color":e.isMobile}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isFilterOpen,expression:"isFilterOpen"}],staticClass:"filter-panel"},[r("div",{staticClass:"tw-z-10 tw-fixed tw-inset-0 tw-transition-opacity",class:{"tw-hidden":!e.isMobile}},[r("div",{staticClass:"tw-absolute tw-inset-0 tw-bg-black tw-opacity-50",attrs:{tabindex:"-1"},on:{click:e.close}})]),r("div",{staticClass:"__container tw-z-10 tw-fixed tw-inset-y-0 tw-right-0 tw-max-w-sm tw-w-full tw-transition-tw-transform tw-overflow-y-auto",class:{"tw-relative":!e.isMobile},staticStyle:{"z-index":"100"}},[r("div",{staticClass:"tw-block tw-absolute tw-top-0 tw-right-0",class:{"tw-hidden":!e.isMobile}},[r("button",{ref:"closeButton",staticClass:"tw-p-0 tw-w-12 tw-h-12 focus:tw-outline-none focus:tw-text-gray-900",attrs:{type:"button","aria-label":"Close"},on:{click:e.close}},[r("TimesIcon",{staticClass:"tw-w-6 tw-h-6"})],1)]),e._m(0),e.cardView?r("div",{staticClass:"__sorting-panel tw-flex tw-justify-between tw-px-4 tw-pt-2"},[r("el-link",{attrs:{underline:!1},on:{click:function(t){return e.changeSorting("price")}},scopedSlots:e._u([{key:"icon",fn:function(){return[r(e.sortingIcon("price"),{tag:"component",staticClass:"__sort-icon tw-ml-2"})]},proxy:!0}],null,!1,544876511)},[e._v(" Price ")]),r("el-link",{attrs:{underline:!1},on:{click:function(t){return e.changeSorting("saving")}},scopedSlots:e._u([{key:"icon",fn:function(){return[r(e.sortingIcon("saving"),{tag:"component",staticClass:"__sort-icon tw-ml-2"})]},proxy:!0}],null,!1,4171669366)},[e._v(" Savings ")]),r("el-link",{attrs:{underline:!1},on:{click:function(t){return e.changeSorting("term")}},scopedSlots:e._u([{key:"icon",fn:function(){return[r(e.sortingIcon("term"),{tag:"component",staticClass:"__sort-icon tw-ml-2"})]},proxy:!0}],null,!1,2693384220)},[e._v(" Term ")])],1):e._e(),r("div",{staticClass:"__sort-switch tw-px-4 tw-pt-2 tw-flex"},[r("el-switch",{staticClass:"show-savings-only",attrs:{value:e.savingsOnly,width:30,"active-text":"Show Savings only"},on:{change:function(t){return e.$emit("shows-savings-change",t)}}})],1),r("div",{staticClass:"tw-px-4 tw-pt-4"},[r("Accordion",{attrs:{items:e.filterItems},on:{"checkbox-click":e.onFiltersChange}})],1),e.cardView?e._e():r("div",{staticClass:"tw-px-4"},[r("Accordion",{attrs:{items:e.gridAdditionalAccordionItems},on:{"checkbox-click":e.onGridAdditionalChange}})],1)])])])}),A=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"__header"},[r("span",{staticClass:"tw-text-sm tw-block tw-uppercase tw-p-3 tw-tracking-wider"},[e._v(" Sorting and Filters ")])])}],B=r("2909"),$=(r("99af"),r("5319"),r("c740"),r("7db0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"accordion tw-px-2"},e._l(e.items,(function(t,n){return r("li",{key:n+"_"+t.label,class:{"is-opened":t.isOpened}},[r("ItemRow",{staticClass:"level-1",attrs:{item:t},on:{click:e.toggleMenu,"checkbox-click":e.onCheckBoxClick}}),t.items?r("ul",e._l(t.items,(function(t,n){return r("li",{key:n+"_"+t.label,class:{"is-opened":t.isOpened}},[r("ItemRow",{staticClass:"level-2",attrs:{item:t},on:{click:e.toggleMenu,"checkbox-click":e.onCheckBoxClick}}),t.items?r("ul",e._l(t.items,(function(t,n){return r("li",{key:n+"_"+t.label,class:{"is-opened":t.isOpened}},[r("ItemRow",{staticClass:"level-3",attrs:{item:t},on:{click:e.toggleMenu,"checkbox-click":e.onCheckBoxClick}})],1)})),0):e._e()],1)})),0):e._e()],1)})),0)}),M=[],E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"__row item-row",on:{click:e.clickEmitter}},[e.item.icon?r(e.item.icon,{tag:"component",staticClass:"tw-mr-2 __row-icon"}):e._e(),e.item.id?r("div",{staticClass:"tw-flex tw-items-center tw-cursor-pointer"},[r("el-checkbox",{staticClass:"checkbox",on:{change:e.clickEmitter},model:{value:e.checkBoxChecked,callback:function(t){e.checkBoxChecked=t},expression:"checkBoxChecked"}}),r("label",[e._v(e._s(e.item.label))])],1):r("span",{staticClass:"tw-flex-grow"},[e._v(" "+e._s(e.item.label)+" ")]),e.item.items?r("ChevronDownIcon",{staticClass:"__chevron"}):e._e()],1)},D=[],R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}})])},U=[],N={name:"CalendarIcon"},z=N,L=Object(y["a"])(z,R,U,!1,null,"4345b78d",null),V=L.exports,q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}}),r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}})])},G=[],H={name:"CogIcon"},K=H,J=Object(y["a"])(K,q,G,!1,null,"056324c3",null),Z=J.exports,W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[r("path",{attrs:{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"}})])},Q=[],Y={name:"GridIcon"},X=Y,ee=Object(y["a"])(X,W,Q,!1,null,"9f25fe1c",null),te=ee.exports,re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}})])},ne=[],ie={name:"ChevronDownIcon"},ae=ie,se=Object(y["a"])(ae,re,ne,!1,null,"c90d8a80",null),oe=se.exports,ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"}})])},le=[],ue={name:"PlusIcon"},de=ue,pe=Object(y["a"])(de,ce,le,!1,null,"6df439a8",null),fe=pe.exports,me={name:"ItemRow",components:{ChevronDownIcon:oe,CalendarIcon:V,CogIcon:Z,GridIcon:te,PlusIcon:fe},props:{item:{type:Object,required:!0}},data:function(){return{checkBoxChecked:!1}},watch:{item:{handler:function(e){[!0,!1].includes(e.checked)&&(this.checkBoxChecked=e.checked)},deep:!0,immediate:!0}},methods:{clickEmitter:function(e){this.item.id?(this.checkBoxChecked=!this.checkBoxChecked,this.emitCheckBoxClick()):this.$emit("click",e)},emitCheckBoxClick:function(){this.$emit("checkbox-click",{id:this.item.id,checked:this.checkBoxChecked,filterKey:this.item.filterKey})}}},he=me,ge=(r("6685"),Object(y["a"])(he,E,D,!1,null,null,null)),ve=ge.exports,be={name:"Accordion",components:{ItemRow:ve},props:{items:{type:Array,required:!0}},methods:{toggleMenu:function(e){e.target.closest("li").classList.toggle("is-opened")},onCheckBoxClick:function(e){this.$emit("checkbox-click",e)}}},we=be,ye=(r("cdd3"),Object(y["a"])(we,$,M,!1,null,"0d665e20",null)),_e=ye.exports,Ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])},xe=[],ke={name:"TimesIcon"},Se=ke,Pe=Object(y["a"])(Se,Ce,xe,!1,null,"55b7c356",null),je=Pe.exports,Oe=r("5935"),Ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 301.219 301.219",stroke:"currentColor"}},[r("path",{attrs:{fill:"currentColor",d:"M149.365,262.736H10c-5.523,0-10,4.477-10,10v10c0,5.523,4.477,10,10,10h139.365c5.522,0,10-4.477,10-10v-10   C159.365,267.213,154.888,262.736,149.365,262.736z"}}),r("path",{attrs:{fill:"currentColor",d:"M10,229.736h120.586c5.522,0,10-4.477,10-10v-10c0-5.523-4.478-10-10-10H10c-5.523,0-10,4.477-10,10v10   C0,225.259,4.477,229.736,10,229.736z"}}),r("path",{attrs:{fill:"currentColor",d:"M10,166.736h101.805c5.522,0,10-4.477,10-10v-10c0-5.523-4.478-10-10-10H10c-5.523,0-10,4.477-10,10v10   C0,162.259,4.477,166.736,10,166.736z"}}),r("path",{attrs:{fill:"currentColor",d:"M10,96.736h83.025c5.522,0,10-4.477,10-10v-10c0-5.523-4.478-10-10-10H10c-5.523,0-10,4.477-10,10v10   C0,92.259,4.477,96.736,10,96.736z"}}),r("path",{attrs:{fill:"currentColor",d:"M10,33.736h64.244c5.522,0,10-4.477,10-10v-10c0-5.523-4.478-10-10-10H10c-5.523,0-10,4.477-10,10v10   C0,29.259,4.477,33.736,10,33.736z"}}),r("path",{attrs:{fill:"currentColor",d:"M298.29,216.877l-7.07-7.071c-1.875-1.875-4.419-2.929-7.071-2.929c-2.652,0-5.195,1.054-7.071,2.929l-34.394,34.393   V18.736c0-5.523-4.477-10-10-10h-10c-5.522,0-10,4.477-10,10v225.462l-34.394-34.393c-1.876-1.876-4.419-2.929-7.071-2.929   c-2.652,0-5.196,1.054-7.071,2.929l-7.07,7.071c-3.905,3.905-3.905,10.237,0,14.142l63.535,63.536   c1.876,1.875,4.419,2.929,7.071,2.929c2.652,0,5.195-1.054,7.071-2.929l63.535-63.536   C302.195,227.113,302.195,220.782,298.29,216.877z"}})])},Fe=[],Te={name:"AscendingSortIcon"},Ae=Te,Be=Object(y["a"])(Ae,Ie,Fe,!1,null,"c0b4bd2a",null),$e=Be.exports,Me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 301.219 301.219",stroke:"currentColor"}},[r("path",{attrs:{fill:"currentColor",d:"M159.365,23.736v-10c0-5.523-4.477-10-10-10H10c-5.523,0-10,4.477-10,10v10c0,5.523,4.477,10,10,10h139.365 C154.888,33.736,159.365,29.259,159.365,23.736z"}}),r("path",{attrs:{fill:"currentColor",d:"M130.586,66.736H10c-5.523,0-10,4.477-10,10v10c0,5.523,4.477,10,10,10h120.586c5.523,0,10-4.477,10-10v-10 C140.586,71.213,136.109,66.736,130.586,66.736z"}}),r("path",{attrs:{fill:"currentColor",d:"M111.805,129.736H10c-5.523,0-10,4.477-10,10v10c0,5.523,4.477,10,10,10h101.805c5.523,0,10-4.477,10-10v-10 C121.805,134.213,117.328,129.736,111.805,129.736z"}}),r("path",{attrs:{fill:"currentColor",d:"M93.025,199.736H10c-5.523,0-10,4.477-10,10v10c0,5.523,4.477,10,10,10h83.025c5.522,0,10-4.477,10-10v-10 C103.025,204.213,98.548,199.736,93.025,199.736z"}}),r("path",{attrs:{fill:"currentColor",d:"M74.244,262.736H10c-5.523,0-10,4.477-10,10v10c0,5.523,4.477,10,10,10h64.244c5.522,0,10-4.477,10-10v-10 C84.244,267.213,79.767,262.736,74.244,262.736z"}}),r("path",{attrs:{fill:"currentColor",d:"M 298.29 216.877 L 291.219 209.806 C 289.344 207.931 286.8 206.877 284.148 206.877 C 281.496 206.877 278.952 207.931 277.076 209.806 L 242.683 244.199 L 242.683 18.736 C 242.683 13.213 238.206 8.736 232.683 8.736 L 222.683 8.736 C 217.16 8.736 212.683 13.213 212.683 18.736 L 212.683 244.198 L 178.29 209.805 C 176.414 207.93 173.871 206.876 171.219 206.876 C 168.567 206.876 166.023 207.93 164.148 209.805 L 157.076 216.876 C 153.172 220.781 153.172 227.113 157.076 231.018 L 220.612 294.554 C 222.565 296.507 225.124 297.483 227.683 297.483 C 230.242 297.483 232.802 296.507 234.754 294.554 L 298.29 231.018 C 302.195 227.113 302.195 220.781 298.29 216.877 Z",transform:"matrix(-1, 0, 0, -1, 455.366745, 306.219009)"}})])},Ee=[],De={name:"DescendingSortIcon"},Re=De,Ue=Object(y["a"])(Re,Me,Ee,!1,null,"793b3975",null),Ne=Ue.exports,ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 489.389 489.389",stroke:"currentColor"}},[r("path",{attrs:{fill:"currentColor",d:"M261.294,326.102c-8.3-7.3-21.8-6.2-29.1,2.1l-77,86.8v-346.9c0-11.4-9.4-20.8-20.8-20.8s-20.8,9.4-20.8,20.8v346.9    l-77-86.8c-8.3-8.3-20.8-9.4-29.1-2.1c-8.3,8.3-9.4,20.8-2.1,29.1l113.4,126.9c8.5,10.5,23.5,8.9,30.2,0l114.4-126.9    C270.694,347.002,269.694,333.402,261.294,326.102z"}}),r("path",{attrs:{fill:"currentColor",d:"M483.994,134.702l-112.4-126.9c-10-10.1-22.5-10.7-31.2,0l-114.4,126.9c-7.3,8.3-6.2,21.8,2.1,29.1    c12.8,10.2,25.7,3.2,29.1-2.1l77-86.8v345.9c0,11.4,9.4,20.8,20.8,20.8s20.8-8.3,20.8-19.8v-346.8l77,86.8    c8.3,8.3,20.8,9.4,29.1,2.1C490.194,155.502,491.294,143.002,483.994,134.702z"}})])},Le=[],Ve={name:"SortIcon"},qe=Ve,Ge=Object(y["a"])(qe,ze,Le,!1,null,"9ba52384",null),He=Ge.exports,Ke=Object(Oe["a"])({getterType:"prices/getField",mutationType:"prices/updateField"}),Je={name:"PriceFilter",components:{SortIcon:He,DescendingSortIcon:Ne,AscendingSortIcon:$e,TimesIcon:je,Accordion:_e},data:function(){return{isOpen:!this.$isMobile&&!this.$isWideMobile&&!this.$isTablet,allFiltersCount:0,appliedFilterCount:0}},props:{priceSorting:{type:Object,required:!0},savingsOnly:{type:Boolean,required:!0}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Ke.mapFields(["filterApplied"])),Object(Oe["c"])(["isFilterOpen","showPriceSummary","showSavingsChart","showSupplierInformation"])),{},{terms:function(){return this.$store.getters["prices/filterContractTerms"]},sweetSpots:function(){return this.$store.getters["prices/filterContractSweetTerms"]},products:function(){return this.$store.getters["prices/filterProducts"]},suppliers:function(){return this.$store.getters["prices/filterSuppliers"]},filterItems:function(){var e=this;return[{label:"Term",icon:"CalendarIcon",isOpened:!0,items:[].concat(Object(B["a"])(this.terms.map((function(t){return{id:t.id,label:"".concat(t.value.replace("Month","")," months"),filterKey:"TermId",checked:e.isFilterSelected(t.id,"TermId")}}))),[{label:"Sweet Spots",items:this.sweetSpots.map((function(t){return{id:t.id,label:"".concat(t.value.replace("Month","")," months"),filterKey:"TermId",checked:e.isFilterSelected(t.id,"TermId")}}))}])},{label:"Supplier",icon:"CogIcon",items:this.suppliers.map((function(t){return{id:t.id,label:t.value,filterKey:"SupplierId",checked:e.isFilterSelected(t.id,"SupplierId")}}))},{label:"Product",icon:"GridIcon",items:this.products.map((function(t){return{id:t.alias,label:t.value,filterKey:"ProductAlias",checked:e.isFilterSelected(t.alias,"ProductAlias")}}))}]},filterAppliedAndAvailable:function(){var e=this;return Object(B["a"])(this.filterApplied).filter((function(t){if("TermId"!==t.filterKey)return!0;var r=e.terms.findIndex((function(e){return e.id===t.id})),n=e.sweetSpots.findIndex((function(e){return e.id===t.id}));return-1!==r||-1!==n})).filter((function(t){if("ProductAlias"!==t.filterKey)return!0;var r=e.products.findIndex((function(e){return e.alias===t.id}));return-1!==r})).filter((function(t){if("SupplierId"!==t.filterKey)return!0;var r=e.suppliers.findIndex((function(e){return e.id===t.id}));return-1!==r})).filter((function(e){return"TermSwitcher"!==e.filterKey}))},isMobile:function(){return this.$isMobile||this.$isWideMobile||this.$isTablet},cardView:function(){return this.$store.state.isCardView},gridAdditionalAccordionItems:function(){var e=this.$store.state.config,t={label:"Additional",icon:"PlusIcon",items:[]};if(e.priceSummary&&t.items.push({label:"Price Summary",id:1,filterKey:"showPriceSummary",checked:this.showPriceSummary}),e.savingsChart&&t.items.push({label:"Savings Chart",id:2,filterKey:"showSavingsChart",checked:this.showSavingsChart}),e.information&&t.items.push({label:"Information",id:3,filterKey:"showSupplierInformation",checked:this.showSupplierInformation}),t.items.length>0){var r=[];return r.push(t),r}return[]}}),watch:{filterAppliedAndAvailable:{deep:!0,handler:function(){this.emitFilterChangeForOnlyAvailableFilters()}}},mounted:function(){this.emitFilterChangeForOnlyAvailableFilters()},methods:{open:function(){this.isFilterOpen=!0},close:function(){this.isFilterOpen=!1},onFiltersChange:function(e){var t=JSON.parse(JSON.stringify(this.filterApplied)),r=t.findIndex((function(t){return t.id===e.id&&t.filterKey===e.filterKey}));-1===r&&(t.push(e),r=t.length-1),t[r].checked=e.checked,this.filterApplied=t},clearFilter:function(){var e=this;Object.keys(this.filterApplied).forEach((function(t){Object.keys(e.filterApplied[t]).forEach((function(r){e.filterApplied[t][r]=!1}))})),this.$emit("filters-change",{})},emitFilterChangeForOnlyAvailableFilters:function(){this.$emit("filters-change",this.filterAppliedAndAvailable)},isFilterSelected:function(e,t){var r=this.filterApplied.find((function(r){return r.id===e&&r.filterKey===t}));return!!r&&r.checked},sortingIcon:function(e){return this.priceSorting.field!==e?"SortIcon":"ASC"===this.priceSorting.direction?"AscendingSortIcon":"DescendingSortIcon"},changeSorting:function(e){var t="ASC";e===this.priceSorting.field&&(t="ASC"===this.priceSorting.direction?"DESC":"ASC"),"saving"===e&&"saving"!==this.priceSorting.field&&(t="DESC"),this.$emit("sorting-change",{field:e,direction:t})},onGridAdditionalChange:function(e){this[e.filterKey]=e.checked}}},Ze=Je,We=(r("d7d8"),Object(y["a"])(Ze,T,A,!1,null,null,null)),Qe=We.exports,Ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bill-scan-button-container",class:{"is-opened":e.isOpened}},[r("div",{staticClass:"bill-scan-button"},[r("input",{ref:"file",attrs:{type:"file"},on:{change:e.onFileSelect}}),r("button",{staticClass:"theme__primary-fab",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openSubMenu(t)}}},[r("PlusIcon",{staticClass:"__icon tw-mx-auto"})],1)]),r("div",{staticClass:"context-menu"},[r("button",{staticClass:"theme__question-fab",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openHelp(t)}}},[r("span",{staticClass:"__icon"},[e._v("?")])]),e.isMobile?r("button",{staticClass:"theme__camera-fab",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openCamera(t)}}},[r("CameraIcon",{staticClass:"__icon tw-mx-auto"})],1):e._e(),r("button",{staticClass:"theme__file-fab",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.selectFile(t)}}},[r("FolderIcon",{staticClass:"__icon tw-mx-auto"})],1)])])},Xe=[],et=r("1522"),tt=r("4efa"),rt={name:"BillScanFloatButton",components:{FolderIcon:tt["a"],CameraIcon:et["a"],PlusIcon:fe},data:function(){return{file:null,isOpened:!1}},computed:{isMobile:function(){return this.$isMobile||this.$isWideMobile||this.$isTablet}},methods:{onFileSelect:function(e){var t=e.target.files[0];this.$store.dispatch("processBillScan",t)},openSubMenu:function(){this.isOpened=!this.isOpened},openCamera:function(){this.$refs.file.setAttribute("capture","camera"),this.$refs.file.setAttribute("accept","image/*"),this.$refs.file.click(),this.isOpened=!1},selectFile:function(){this.$refs.file.removeAttribute("capture"),this.$refs.file.setAttribute("accept","image/*, application/pdf"),this.$refs.file.click(),this.isOpened=!1},openHelp:function(){}}},nt=rt,it=(r("d091"),Object(y["a"])(nt,Ye,Xe,!1,null,"3d32c967",null)),at=it.exports,st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tw-grid tw-grid-cols-1 tw-gap-4 tw-content-start"},[e.hasRecommendation?[r("RecommendedPrices",{attrs:{"price-filters":e.priceFilters,title:"Top Picks for Your Business"},on:{"take-price":function(t){return e.$emit("take-price",t)}}}),e.filteredPrices.length?r("h3",{staticClass:"__price-section-title tw-text-center"},[e._v("All Results")]):e._e()]:e._e(),e.isMobile?r("div",{staticClass:"tw-grid tw-grid-cols-1 tw-gap-4"},e._l(e.filteredPrices,(function(t,n){return r("PriceCardLandscape",{key:n,attrs:{price:t},on:{"take-price":function(t){return e.$emit("take-price",t)}}})})),1):e.isWideMobile||e.isTablet?r("div",{staticClass:"tw-grid tw-gap-4",class:{"tw-grid-cols-2 md:tw-grid-cols-3 lg:tw-grid-cols-4":e.filteredPrices.length>=4,"tw-grid-cols-2 md:tw-grid-cols-3 tw-mx-auto":3===e.filteredPrices.length,"tw-grid-cols-2 tw-mx-auto":2===e.filteredPrices.length,"tw-grid-cols-1 tw-mx-auto":1===e.filteredPrices.length}},e._l(e.filteredPrices,(function(t,n){return r("PriceCardPortrait",{key:n,staticStyle:{"max-width":"18rem"},attrs:{price:t},on:{"take-price":function(t){return e.$emit("take-price",t)}}})})),1):e._e()],2)},ot=[],ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"__price-card tw-p-4 tw-grid tw-grid-cols-2 tw-gap-1 tw-relative"},[e.price.isGreen()?[n("img",{staticStyle:{width:"30px",height:"auto",position:"absolute",top:"5px",right:"5px"},attrs:{src:r("3120")}})]:e._e(),n("div",{staticClass:"tw-flex tw-flex-col tw-w-full __split-vertical-border tw-pr-1"},[n("div",{staticClass:"tw-flex-grow tw-flex-shrink tw-flex tw-flex-col tw-justify-center"},[n("img",{staticClass:"tw-object-contain tw-h-10 tw-mx-auto tw-max-w-full",attrs:{src:e.price.SupplierLogo,title:e.price.Supplier}})]),e.withOffers?n("div",{staticClass:"__ad tw-h-10 tw-flex tw-flex-row tw-items-center tw-flex-grow tw-flex-shrink-0"},[n("div",{staticClass:"tw-w-1/3 tw-h-10 tw-mr-1"},[n("img",{staticClass:"tw-h-10 tw-w-full tw-object-contain",attrs:{src:e.getExampleImageData().src}})]),n("div",{staticClass:"__ad-info tw-w-2/3 tw-text-left tw-text-xs"},[e._v(" "+e._s(e.getExampleImageData().info)+" ")])]):e._e()]),n("div",[n("div",{staticClass:"__header tw-pb-2 tw-text-xs"},[n("div",{staticClass:"tw-font-bold"},[e._v(e._s(e.price.Term))]),n("div",{staticClass:"tw-flex tw-flex-row tw-justify-center"},[n("p",{staticClass:"tw-flex-shrink-0 tw-mr-0.5"},[e._v("Fixed Rate:")]),n("div",{staticClass:"tw-flex-shrink tw-text-right"},[n("span",{staticClass:"__price tw-inline-block",class:{"tw-line-through":e.isExpired},style:e.isExpired?"cursor: help":"",attrs:{title:e.isExpired?"Price Expired":""}},[e._v("$"+e._s(e.price.Price))]),n("span",{staticClass:"tw-inline-block tw-text-xs"},[e._v("/"+e._s(e.unit))])])])]),n("div",{staticClass:"__savings tw-pb-2 tw-text-xs"},[n("div",{staticClass:"tw-text-center tw-pt-2"},[n("p",[e._v(e._s(e.price.savingLabel())),n("span",{staticClass:"tw-ml-1 tw-font-bold"},[e._v(e._s(e._f("round")(e.price.savingValue(),0))+"%")])])]),n("div",{staticClass:"tw-flex tw-flex-row tw-justify-around tw-text-xs"},[n("p",[e._v("Monthly: "),n("span",{staticClass:"tw-font-bold"},[e._v("$"+e._s(e.numberFormat(e.price.monthlySaving(e.annualVolume))))])]),n("p",[e._v("Term: "),n("span",{staticClass:"tw-font-bold"},[e._v("$"+e._s(e.numberFormat(e.price.termSaving(e.annualVolume))))])])]),n("div",{staticClass:"__new-spend tw-text-center tw-text-xs"},[n("p",[e._v("New Spend: $"+e._s(e.price.newSpend(e.annualVolume))+"/mo")])])])]),n("div",{staticClass:"__price-btn tw-col-span-2 tw-h-6 tw-w-48 tw-m-auto tw-rounded tw-text-center tw-mt-2 tw-cursor-pointer",on:{click:e.onTakePriceClick}},[e._v(" Sign up ")])],2)},lt=[],ut=r("b6b5"),dt={name:"PriceCardLandscape",mixins:[ut["a"]],methods:{numberFormat:function(e){return e.toLocaleString("en-US")}}},pt=dt,ft=Object(y["a"])(pt,ct,lt,!1,null,"90d102e0",null),mt=ft.exports,ht=r("bc80"),gt=r("323f"),vt=r("7142"),bt={name:"PriceGridMobile",components:{RecommendedPrices:vt["a"],PriceCardPortrait:ht["a"],PriceCardLandscape:mt},mixins:[gt["a"]],computed:{isMobile:function(){return this.$isMobile},isWideMobile:function(){return this.$isWideMobile},isTablet:function(){return this.$isTablet}}},wt=bt,yt=Object(y["a"])(wt,st,ot,!1,null,"1e3e12ad",null),_t=yt.exports,Ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tw-grid tw-grid-cols-1 tw-gap-4 tw-p-4 tw-pt-0 tw-w-full tw-h-full"},[e.hasRecommendation?[r("RecommendedPrices",{attrs:{"price-filters":e.priceFilters,title:"Top Picks for Your Business"},on:{"take-price":function(t){return e.$emit("take-price",t)}}}),e.filteredPrices.length?r("h3",{staticClass:"__price-section-title tw-text-center"},[e._v("All Results")]):e._e()]:e._e(),r("div",{staticClass:"tw-grid tw-gap-4",class:{"tw-grid-cols-3 xl:tw-grid-cols-4 2xl:tw-grid-cols-5":e.filteredPrices.length>=5,"tw-grid-cols-3 xl:tw-grid-cols-4":e.filteredPrices.length>=4,"tw-grid-cols-3 tw-mx-auto":3===e.filteredPrices.length,"tw-grid-cols-2 tw-mx-auto":2===e.filteredPrices.length,"tw-grid-cols-1 tw-mx-auto":1===e.filteredPrices.length}},e._l(e.filteredPrices,(function(t,n){return r("PriceCardPortrait",{key:n,staticStyle:{"max-width":"18rem"},attrs:{price:t},on:{"take-price":function(t){return e.$emit("take-price",t)}}})})),1)],2)},xt=[],kt={name:"PriceGridDesktop",components:{RecommendedPrices:vt["a"],PriceCardPortrait:ht["a"]},mixins:[gt["a"]]},St=kt,Pt=Object(y["a"])(St,Ct,xt,!1,null,"b2abe394",null),jt=Pt.exports,Ot=r("dab6"),It={sortHandler:function(e,t){return["price","saving","term"].includes(e)?this["_".concat(e)](t):(console.error("Unknown filed for sorting.",e),function(){return 0})},_price:function(e){return function(t,r){return"ASC"===e?t.Price>r.Price?1:-1:"DESC"===e?t.Price<r.Price?1:-1:0}},_saving:function(e){return function(t,r){var n=t.termSaving(1e5),i=r.termSaving(1e5);return"ASC"===e?n>i?1:-1:"DESC"===e?n<i?1:-1:0}},_term:function(e){return function(t,r){return"ASC"===e?t.TermId>r.TermId?1:-1:"DESC"===e?t.TermId<r.TermId?1:-1:0}}},Ft=r("4a7c"),Tt=function(){return r.e("chunk-9dc5971e").then(r.bind(null,"be3e")).then((function(e){return e.default}))},At={name:"PriceResults",components:{PriceGridDesktop:jt,PriceGridMobile:_t,BillScanFloatButton:at,PriceFilter:Qe,PriceGrid:Tt},data:function(){return{priceFilters:{},priceSorting:{field:"price",direction:"ASC"},savingsOnly:!1}},mounted:function(){setTimeout((function(){Tt()}),500)},computed:{prices:function(){var e=this.$store.state.prices.prices.map((function(e){return Object.assign(new Ot["a"]({}),e)})),t=this.priceSorting,r=t.field,n=t.direction;return this.savingsOnly&&(e=e.filter((function(e){return Number.parseFloat(e.savingValue())>0}))),e.sort(It.sortHandler(r,n))},priceWithoutRecommended:function(){var e=[];return this.$store.getters["prices/recommendedPrices"].forEach((function(t){e.push(t.PriceIds)})),e=e.flat(),this.prices.filter((function(t){return!e.includes(t.PriceId)}))},hasPrices:function(){return this.$store.getters["prices/hasPrices"]},isMobile:function(){return this.$isMobile||this.$isWideMobile||this.$isTablet},withBillScan:function(){return this.$store.state.config.withBillScan},identifier:function(){return this.$store.state.config.identifier},cardView:function(){return this.$store.state.isCardView},isGridViewAvailable:function(){return!0}},methods:{onFiltersChange:function(e){var t={};e.filter((function(e){return e.checked})).forEach((function(e){var r=t[e.filterKey];Array.isArray(r)?r.push(e.id):r=[e.id],t[e.filterKey]=r})),this.priceFilters=t},onSortingChange:function(e){this.priceSorting=e},onShowSavingsChange:function(e){this.savingsOnly=e},onTakePrice:function(e){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.$store.commit("setCurrentPriceId",e),n=new Ft["a"](t.$store,t.$router),r.next=4,n.fromPriceResult();case 4:case"end":return r.stop()}}),r)})))()},isVisible:function(e){if(0===this.priceFilters.length)return!0;for(var t=!0,r=Object.keys(this.priceFilters),n=0;n<r.length;n++){var i=r[n];if(t=this.priceFilters[i].includes("".concat(e[i]))||this.priceFilters[i].includes(e[i]),!t)break}return t}}},Bt=At,$t=Object(y["a"])(Bt,O,I,!1,null,"1ce443be",null),Mt=$t.exports,Et=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"theme__main-page tw-container tw-mx-auto tw-p-2 tw-flex tw-flex-col"},[e.showGreetings?r("div",{staticClass:"tw-mb-3"},[r("el-alert",{attrs:{title:e.agentName+", welcome to MSC Js Widget",type:"success",center:""},on:{close:e.dismissGreeting}})],1):e._e(),r("div",{staticClass:"tw-flex tw-flex-row tw-justify-start lg:tw-mb-3"},[r("div",{staticClass:"tw-flex-grow tw-flex-shrink"}),!e.isMobile&&e.hasGeoError?r("el-alert",{staticClass:"tw-flex-grow-0 tw-flex-shrink-0",staticStyle:{margin:"0 10px",width:"auto","min-width":"370px"},attrs:{"show-icon":"",center:"",type:"info"},on:{close:e.dismissGeoError},scopedSlots:e._u([{key:"title",fn:function(){return[r("div",{domProps:{innerHTML:e._s(e.geoLocationErrorMessage)}})]},proxy:!0}],null,!1,2676396538)}):e._e(),e.withBillScan&&!e.isMobile?r("BillScanDesktopButton"):e._e()],1),e.isMobile&&e.hasGeoError?r("div",{staticClass:"tw-mb-3"},[r("el-alert",{attrs:{center:"","show-icon":"",type:"info"},on:{close:e.dismissGeoError},scopedSlots:e._u([{key:"title",fn:function(){return[r("div",{domProps:{innerHTML:e._s(e.geoLocationErrorMessage)}})]},proxy:!0}],null,!1,2676396538)})],1):e._e(),r("div",{staticClass:"tw-flex tw-justify-between tw-flex-row"},[r("div",{staticClass:"md:tw-max-w-lg tw-relative  search-params"},[r("SearchParameters",{staticClass:"tw-min-w-full",attrs:{readonly:e.isSearchParamsReadOnly},on:{"search-params-change":e.onSearchParamsChange,"zip-input":e.getPricesFromInput}})],1),e.isGridViewAvailable?[e.isMobile?r("div",{staticClass:"tw-flex tw-flex-col"},[r("div",{staticClass:"tw-flex tw-flex-row"},[r("div",{staticClass:"tw-flex-grow"}),r("PriceViewToggle",{staticClass:"tw-flex-shrink-0 tw-self-center"})],1)]):[r("PriceViewToggle",{staticClass:"tw-flex-shrink-0 tw-self-center"})]]:e._e()],2),r("div",{staticClass:"tw-grid tw-grid-cols-2 tw-mt-2 tw-p-2"},[r("form",{attrs:{autocomplete:"off"},on:{submit:function(e){e.preventDefault()}}},[r("div",{staticClass:"__zip-form tw-flex tw-flex-col tw-text-xs sm:tw-text-sm"},[r("div",{staticClass:"tw-flex tw-flex-row"},[r("label",{staticClass:"tw-self-center tw-mr-1 tw-w-11"},[e._v("Zip:")]),r("ZipInput",{staticClass:"tw-w-20",attrs:{disabled:e.isFromQuote||e.isFromProposal},on:{"keyup-enter":e.getPricesByClick,input:e.getPricesFromInput},model:{value:e.zip,callback:function(t){e.zip=t},expression:"zip"}})],1),r("div",{staticClass:"tw-flex tw-flex-row"},[r("label",{staticClass:"tw-self-center tw-mr-1 tw-w-11"},[e._v("Utility:")]),r("p",{staticClass:"tw-self-center tw-text-sm",staticStyle:{"margin-bottom":"0"}},[e._v(e._s(e.utility))])])])]),r("AverageForm",{attrs:{disabled:e.isFromQuote||e.isFromProposal}})],1),r("FilterTags",{staticClass:"tw-mt-2 tw-flex-shrink-0 tw-overflow-hidden",style:e.isMobile?"":"height: 20px"}),r("AlertBox"),r("router-view",{staticStyle:{"min-height":"300px"}}),r("Toolbar",{ref:"toolbar",staticClass:"tw-fixed tw-bottom-1 tw-right-3",staticStyle:{"z-index":"101",width:"48px"}})],1)},Dt=[],Rt=(r("c1f9"),r("2b3d"),r("841c"),r("9911"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"zip-input",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$emit("keyup-enter",e.value)}}},[r("el-input",{staticClass:"tw-relative",attrs:{value:e.value,disabled:e.disabled,placeholder:"Enter Zip",type:"text"},on:{input:function(t){return e.$emit("input",t)}}})],1)}),Ut=[],Nt={name:"ZipInput",props:{value:{type:[Number,String],default:null},disabled:{type:Boolean,default:!1}}},zt=Nt,Lt=(r("e55e"),Object(y["a"])(zt,Rt,Ut,!1,null,null,null)),Vt=Lt.exports,qt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutSide,expression:"onClickOutSide"}],staticClass:"__search-params tw-flex tw-flex-col tw-p-2"},[r("div",{directives:[{name:"touch",rawName:"v-touch:swipe.down",value:e.onSwipeDown,expression:"onSwipeDown",arg:"swipe",modifiers:{down:!0}}],staticClass:"tw-flex tw-flex-row tw-justify-between"},[r("h2",{staticClass:"tw-text-sm sm:tw-text-base"},[e._v("Search Parameters")]),r("div",{staticClass:"tw-flex tw-flex-row tw-flex-grow tw-justify-start tw-ml-2 sm:tw-ml-10"},e._l(e.forms,(function(t){return r("div",{key:t.commodity,staticClass:"tw-px-2 sm:tw-px-4"},[r("el-radio",{attrs:{size:"small",label:t.commodity,disabled:e.readonly},on:{change:function(t){return e.onChangeCommon(t,"commodity")}},model:{value:e.currentCommodity,callback:function(t){e.currentCommodity=t},expression:"currentCommodity"}},[e._v(" "+e._s(e.getCommodityLabel(t.commodity))+" ")])],1)})),0),r("button",{staticClass:"__toggle-btn md:tw-p-2 tw-flex-shrink-0 tw-p-0",on:{click:function(t){e.isOpen=!e.isOpen}}},[r("ArrowDownIcon",{staticClass:"__icon tw-mx-auto",class:{"arrow-up":e.isOpen}})],1)]),r("transition",{attrs:{name:"slide"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],staticClass:"tw-pt-6 tw-text-sm"},[r("div",{staticClass:"tw-grid tw-grid-2 tw-gap-2 tw-w-full"},[r("div",{staticClass:"tw-col-span-2 tw-flex tw-flex-row"},[r("TextBox",{staticClass:"tw-w-24 tw-mr-4",attrs:{label:"Zip",disabled:e.readonly},on:{input:function(t){return e.$emit("zip-input",t)}},model:{value:e.zip,callback:function(t){e.zip=t},expression:"zip"}}),r("SelectBox",{staticClass:"tw-flex-grow",attrs:{"popper-class":"msc __search-params",label:e.getLabel("Utility"),clearable:!1,disabled:e.readonly},on:{change:e.onUtilityChange},model:{value:e.form.model.UtilityId,callback:function(t){e.$set(e.form.model,"UtilityId",t)},expression:"form.model.UtilityId"}},e._l(e.utilityOptions[e.form.commodity],(function(t){return r("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[r("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),r("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.state_code))])])})),1)})),1)],1),r("div",{staticClass:"tw-col-span-2 tw-flex tw-flex-row"},[r("DatePicker",{class:"E"===e.form.model.Commodity?"tw-w-1/3":"tw-w-1/2",attrs:{label:e.getLabel("StartDate"),"popper-class":"msc __search-params",clearable:!1,disabled:e.readonly},on:{change:function(t){return e.onChangeCommon(t,"startDate")}},model:{value:e.form.model.StartDate,callback:function(t){e.$set(e.form.model,"StartDate",t)},expression:"form.model.StartDate"}}),r("CurrencyTextBox",{staticClass:" tw-ml-2",class:"E"===e.form.model.Commodity?"tw-w-1/3":"tw-w-1/2",attrs:{label:e.getLabel("Usage")+", "+e.form.usageSuffix,clearable:!1,disabled:e.readonly},on:{input:e.onUsageInputTyping},model:{value:e.form.model.Usage,callback:function(t){e.$set(e.form.model,"Usage",t)},expression:"form.model.Usage"}}),"E"===e.form.model.Commodity?r("div",{staticClass:" tw-ml-2 tw-w-1/3 tw-relative"},[r("CurrencyTextBox",{attrs:{label:e.getLabel("Demand"),clearable:!1,disabled:e.readonly},on:{input:e.onInputTyping},model:{value:e.form.model.Demand,callback:function(t){e.$set(e.form.model,"Demand",t)},expression:"form.model.Demand"}}),r("small",{staticClass:"tw-absolute tw-bottom-0 tw-left-0"},[e._v(e._s(e.loadFactorText))])],1):e._e()],1),r("SelectBox",{attrs:{label:e.getLabel("RateClassId"),"popper-class":"msc __search-params",disabled:!e.form.model.UtilityId||e.readonly,clearable:!0},on:{change:function(t){return e.onChangeCommon(t,"rateClass")}},model:{value:e.form.model.RateClassId,callback:function(t){e.$set(e.form.model,"RateClassId",t)},expression:"form.model.RateClassId"}},e._l(e.rateClassOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),r("SelectBox",{attrs:{label:e.getLabel("SubType"),"popper-class":"msc __search-params",disabled:!e.form.model.UtilityId||e.readonly,clearable:!0},on:{change:function(t){return e.onChangeCommon(t,"subType")}},model:{value:e.form.model.SubTypeId,callback:function(t){e.$set(e.form.model,"SubTypeId",t)},expression:"form.model.SubTypeId"}},e._l(e.subTypeOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),r("div",{staticClass:"tw-col-span-2 tw-flex tw-flex-row tw-justify-between"},[r("SelectBox",{staticClass:"tw-flex-grow",attrs:{label:e.getLabel("Zone"),"popper-class":"msc __search-params",disabled:!e.form.model.UtilityId||e.readonly,clearable:!0},on:{change:function(t){return e.onChangeCommon(t,"zone")}},model:{value:e.form.model.ZoneId,callback:function(t){e.$set(e.form.model,"ZoneId",t)},expression:"form.model.ZoneId"}},e._l(e.zoneOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),r("MaskedInput",{staticClass:"tw-flex-grow tw-ml-2",attrs:{label:e.getLabel("CurrentRate"),disabled:e.readonly,mask:"E"===e.form.model.Commodity?"0.XXXXX":"X.XXXXX",prefix:"$"},on:{input:e.onInputTyping},model:{value:e.form.model.CurrentRate,callback:function(t){e.$set(e.form.model,"CurrentRate",t)},expression:"form.model.CurrentRate"}}),e.isBfEnabled?r("BrokerFeeInput",{staticClass:"tw-flex-grow tw-ml-2",attrs:{disabled:e.readonly},on:{input:function(t){return e.onChangeCommon(t,"bf")}},model:{value:e.form.model.BrokerFee,callback:function(t){e.$set(e.form.model,"BrokerFee",t)},expression:"form.model.BrokerFee"}}):e._e()],1)],1)])])],1)},Gt=[],Ht=r("d4ec"),Kt=r("bee2"),Jt=(r("25eb"),r("4d63"),function(){function e(t){Object(Ht["a"])(this,e),this.Commodity=t.commodity,this.Usage=t.expected_usage?Number.parseInt(t.expected_usage,10):null,this.RateClassId=this._getFromArray(t.rate_class,"id"),this.RateClassCode=this._getFromArray(t.rate_class,"code"),this.UtilityId=this._getFromArray(t.utility,"id"),this.ZoneId=this._getFromArray(t.zone_title),this.SubTypeId=this._getFromArray(t.sub_type,"id"),this.SubTypeTitle=this._getFromArray(t.sub_type,"title"),this.StartDateG=t.start_date_g,this.StartDateE=t.start_date_e,this.Type=this._getFromArray(t.type),this.CurrentRate=t.current_rate?"".concat(t.current_rate):null,this.Demand=0,this.BrokerFee=void 0===t.broker_fee?null:t.broker_fee,"E"===this.Commodity?this.StartDate=this.StartDateE:this.StartDate=this.StartDateG,this.Suppliers=null,this.Terms=null}return Object(Kt["a"])(e,[{key:"_getFromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Array.isArray(e))return e?e[t]?this._cast(e[t]):this._cast(e):null;var r="";return e.forEach((function(e){t&&e[t]?r=r?"".concat(r,"; ").concat(e[t]):e[t]:null===t&&(r=r?"".concat(r,"; ").concat(e):e)})),this._cast(r)}},{key:"_cast",value:function(e){var t=new RegExp(/^\d+$/),r=t.test(e);return r?Number.parseInt(e,10):e}}],[{key:"label",value:function(e){var t={Commodity:"Commodity",Usage:"Annual Usage",RateClassId:"Rate Class",Utility:"Utility",Zone:"Zone",SubType:"Sub Type",CurrentRate:"Current Rate",StartDate:"Start Date",Demand:"Demand"};return t[e]}}]),e}()),Zt=r("5b3d"),Wt=r("475e"),Qt=r("1062"),Yt=r("6855"),Xt=r("0022"),er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 123.959 123.958",stroke:"currentColor"}},[r("path",{attrs:{fill:"currentColor",d:"M117.979,28.017h-112c-5.3,0-8,6.4-4.2,10.2l56,56c2.3,2.3,6.1,2.3,8.401,0l56-56 C125.979,34.417,123.279,28.017,117.979,28.017z"}})])},tr=[],rr={name:"ArrowDownIcon"},nr=rr,ir=Object(y["a"])(nr,er,tr,!1,null,"023bfa73",null),ar=ir.exports,sr=r("c28b"),or=r.n(sr),cr=r("09ad"),lr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isBfDropdown?r("SelectBox",{attrs:{value:e.value,label:e.BFAlias+" Range","popper-class":"msc __search-params",disabled:e.disabled},on:{change:function(t){return e.$emit("input",t)}}},e._l(e.bfDropdownOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):r("MaskedInput",{attrs:{value:e.value,label:e.brokerFeePlaceholder,mask:"0.XXXXX",disabled:e.disabled},on:{input:function(t){return e.$emit("input",t)}}})],1)},ur=[],dr={name:"BrokerFeeInput",components:{MaskedInput:Zt["a"],SelectBox:Qt["a"]},props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data:function(){return{bfDropdownOptions:[]}},computed:{commodity:function(){return this.$store.getters["prices/currentCommodity"]},isBfEnabled:function(){return this.$permission.isBfEnabled()},isBfDropdown:function(){return this.$permission.isBfDropdown()},isMsc:function(){return this.$store.state.config.embeddedToMsc},BFAlias:function(){if(this.isMsc){var e,t,r=window,n=r.MSCRegister;return(null===(e=n.fetchData("initialData"))||void 0===e||null===(t=e.BFAlias)||void 0===t?void 0:t.short)||"BF"}return"BF"},brokerFeePlaceholder:function(){var e="";if(this.isMsc){var t,r,n=window,i=n.MSCRegister,a=(null===(t=i.fetchData("initialData"))||void 0===t||null===(r=t.BFAlias)||void 0===r?void 0:r.long)||"Broker fee";switch(this.commodity){case"E":e="".concat(a,", i.e. 0.001");break;case"G":e="".concat(a,", i.e. 0.01");break;default:e="".concat(a);break}return e}switch(this.commodity){case"E":e="Broker Fee, i.e. 0.001";break;case"G":e="Broker Fee, i.e. 0.01";break;default:e="Broker Fee";break}return e}},created:function(){this.isBfDropdown&&this.getBfDropdownOptions()},watch:{commodity:function(){this.getBfDropdownOptions()}},methods:{getBfDropdownOptions:function(){var e=this;return this.$api.dropdowns.getBfDropdownOptions(this.commodity).then((function(t){e.bfDropdownOptions=t.options,e.bfDropdownOptions.length>0&&[null,void 0].includes(e.value)&&e.$emit("input",t.default)}))}}},pr=dr,fr=Object(y["a"])(pr,lr,ur,!1,null,"2dd01153",null),mr=fr.exports;function hr(e){return this.searchParams.find((function(t){return t.Commodity===e}))}var gr,vr={name:"SearchParameters",directives:{clickOutside:or.a.directive},components:{BrokerFeeInput:mr,TextBox:cr["a"],ArrowDownIcon:ar,DatePicker:Xt["a"],CurrencyTextBox:Yt["a"],SelectBox:Qt["a"],MaskedInput:Zt["a"]},props:{readonly:{type:Boolean,required:!0}},data:function(){return{isOpen:!1,utilityOptions:{E:[],G:[]},utility:[],zoneOptions:[],subTypeOptions:[],rateClassOptions:[],results:[],utilityDefaultValue:{},usageManuallyChanged:{E:!1,G:!1}}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(Oe["d"])("prices",["searchParams"])),Object(Oe["c"])(["prices.currentCommodity","prices.zip"])),{},{currentSearchModel:function(){return hr.call(this,this.currentCommodity)},utilityId:function(){return this.currentSearchModel.UtilityId},forms:function(){return[{commodity:"E",model:hr.call(this,"E"),usageSuffix:Wt["a"].getSuffix("E")},{commodity:"G",model:hr.call(this,"G"),usageSuffix:Wt["a"].getSuffix("G")}]},loadFactorText:function(){if(!this.form.model.Demand||!this.form.model.Usage)return"";var e=Math.round(this.form.model.Usage/12/(720*this.form.model.Demand)*100);return e>100&&(e=100),"Load Factor: ".concat(e,"%")},form:function(){var e=this;return this.forms.find((function(t){return t.commodity===e.currentCommodity}))},isBfEnabled:function(){return this.$permission.isBfEnabled()}}),mounted:function(){var e=new Event("price-search-params-mounted");document.dispatchEvent(e)},watch:{zip:function(e){e&&e.length>=5&&(this.getUtilities(e),this.getZones())},currentCommodity:function(){this.getZones(),this.getRateClasses(this.utilityId),this.getSubTypes(this.utilityId)},utilityId:function(e){this.utilityDefaultValue=this.getUtilityDefaultSearchParams(e),this.updatedUsage(),this.getRateClasses(e),this.getSubTypes(e),this.getZones();var t=this.utility.find((function(t){return t.value===e}));t&&this.$store.commit("setCurrentUtility",t)},zoneOptions:function(e){0===e.length&&(this.currentSearchModel.ZoneId=null)},subTypeOptions:function(e){0===e.length&&(this.currentSearchModel.SubTypeId=null)}},methods:{onClickOutSide:function(){this.isOpen=!1},getLabel:function(e){return Jt.label(e)},getCommodityLabel:function(e){return"E"===e?"Electricity":"Gas"},getUtilities:function(e){var t=this;return this.$api.dropdowns.getUtilities(e).then((function(r){t.utility=r;var n=r.filter((function(t){return t.zip===e})),i=r.filter((function(t){return t.zip!==e}));["E","G"].forEach((function(e){t.$set(t.utilityOptions,e,[{label:"Most suitable",options:n.filter((function(t){return null===t.commodity||t.commodity===e}))},{label:"All Utilities",options:i.filter((function(t){return null===t.commodity||t.commodity===e}))}])}))}))},getZones:function(){var e=this;return this.$api.dropdowns.getZones(this.utilityId,this.currentCommodity).then((function(t){e.zoneOptions=t,0!==t.length&&t.find((function(t){return t.value===e.form.model.ZoneId}))||(e.form.model.ZoneId=null),e.zoneOptions.find((function(t){return t.value===e.utilityDefaultValue.zone_title}))&&(e.form.model.ZoneId=e.utilityDefaultValue.zone_title)}))},getSubTypes:function(e){var t=this;return this.$api.dropdowns.getSubTypes(e,this.currentCommodity).then((function(e){t.subTypeOptions=e,0!==e.length&&e.find((function(e){return e.value===t.form.model.SubTypeId}))||(t.form.model.SubTypeId=null),t.subTypeOptions.find((function(e){return e.value===t.utilityDefaultValue.sub_type_id}))&&(t.form.model.SubTypeId=t.utilityDefaultValue.sub_type_id)}))},getRateClasses:function(e){var t=this;return this.$api.dropdowns.getRateClasses(e,this.currentCommodity).then((function(e){t.rateClassOptions=e,0!==e.length&&e.find((function(e){return e.value===t.form.model.RateClassId}))||(t.form.model.RateClassId=null),t.rateClassOptions.find((function(e){return e.value===t.utilityDefaultValue.rate_class_id}))&&(t.form.model.RateClassId=t.utilityDefaultValue.rate_class_id)}))},updatedUsage:function(){this.utilityDefaultValue.annual_volume&&!this.usageManuallyChanged[this.currentCommodity]&&(this.form.model.Usage=this.utilityDefaultValue.annual_volume)},onUtilityChange:function(e){var t=this;Promise.all([this.getRateClasses(e),this.getZones(),this.getSubTypes(e)]).then((function(){t.onChangeCommon()}))},onUsageInputTyping:function(){this.usageManuallyChanged[this.currentCommodity]=!0,this.onInputTyping()},onInputTyping:function(){var e=this;n&&clearTimeout(n),n=setTimeout((function(){e.onChangeCommon(),n=null}),1e3)},onChangeCommon:function(e,t){var r=this;if("rateClass"===t){var a=this.rateClassOptions.find((function(t){return t.value===e}));this.form.model.RateClassCode=a.label}if("subType"===t){var s=this.subTypeOptions.find((function(t){return t.value===e}));this.form.model.SubTypeTitle=s.label}n&&(clearTimeout(n),n=null),i&&clearTimeout(i),i=setTimeout((function(){r.$emit("search-params-change"),i=null}),500)},onSwipeDown:function(){this.isOpen=!0},getUtilityDefaultSearchParams:function(e){var t,r=this,n=null===(t=this.utility.find((function(t){return t.value===e})))||void 0===t?void 0:t.searchDefaultParams;return Array.isArray(n)&&n.find((function(e){return e.commodity===r.currentCommodity}))||{}}},created:function(){var e=this;this.getUtilities().then((function(){e.getRateClasses(e.utilityId),e.getSubTypes(e.utilityId),e.getZones()}))}},br=vr,wr=(r("2cb7"),Object(y["a"])(br,qt,Gt,!1,null,null,null)),yr=wr.exports,_r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"bill-scan-button-container"},[r("input",{ref:"file",attrs:{type:"file"},on:{change:e.onFileSelect}}),r("button",{staticClass:"theme__primary-btn",attrs:{type:"button"},on:{click:e.selectFile}},[r("DocumentSearchIcon",{staticClass:"tw-w-6 tw-h-6"}),e._v(" Bill Scan ")],1)])},Cr=[],xr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[r("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 21h7a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v11m0 5l4.879-4.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242z"}})])},kr=[],Sr={name:"DocumentSearchIcon"},Pr=Sr,jr=Object(y["a"])(Pr,xr,kr,!1,null,"187dee9e",null),Or=jr.exports,Ir={name:"BillScanDesktopButton",components:{DocumentSearchIcon:Or},methods:{onFileSelect:function(e){var t=e.target.files[0];this.$store.dispatch("processBillScan",t)},selectFile:function(){this.$refs.file.setAttribute("accept","image/*, application/pdf"),this.$refs.file.click(),this.isOpened=!1}}},Fr=Ir,Tr=(r("8f46"),Object(y["a"])(Fr,_r,Cr,!1,null,"0327947c",null)),Ar=Tr.exports,Br=r("337f"),$r=r.n(Br),Mr=r("b444"),Er=window,Dr=Er.GeolocationPositionError,Rr=$r.a.getParser(window.navigator.userAgent).getBrowserName(),Ur={Chrome:"https://support.google.com/chrome/answer/142065",Firefox:"https://support.mozilla.org/en-US/questions/988163",Safari:"https://support.apple.com/guide/mac-help/mh35873/mac",default:"https://www.google.com/search?q=How+to+allow+browser+to+detect+my+geolocation"};gr=Ur[Rr]?Ur[Rr]:Ur.default;var Nr={getLocation:function(){return new Promise((function(e){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){window.localStorage.removeItem("dismiss_geo_permission_error"),e({success:!0,position:t})}),(function(t){Dr&&t.code===Dr.PERMISSION_DENIED?e({success:!1,error:Mr["a"],link:gr}):e({success:!1,error:"Geolocation not available"})}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}):e({success:!1,error:"Browser does not support geolocation!"})}))}},zr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"__average-form tw-text-xs sm:tw-text-sm"},[r("div",{staticClass:"tw-flex tw-flex-row"},[r("label",{staticClass:"tw-flex-grow tw-flex-shrink-0 tw-text-right tw-self-center tw-mr-1 tw-w-16"},[e._v(e._s(e.getLabel("AverageBill"))+":")]),r("div",{staticClass:"tw-flex-shrink"},[r("div",{staticClass:"el-input tw-relative tw-w-16",staticStyle:{height:"20px"}},[r("span",{staticClass:"width-machine",class:{"extra-padding":e.isGas},staticStyle:{color:"rgba(0,0,0,0)"},attrs:{"aria-hidden":"true"}},[e._v(e._s(e.AverageBill))]),r("currency-input",{staticClass:"el-input__inner tw-absolute tw-w-full tw-inset-0",attrs:{currency:"USD",precision:0,"auto-decimal-mode":!0,"distraction-free":!1,disabled:e.disabled},model:{value:e.AverageBill,callback:function(t){e.AverageBill=t},expression:"AverageBill"}})],1)])]),r("div",{staticClass:"tw-flex tw-flex-row"},[r("label",{staticClass:"tw-flex-grow tw-flex-shrink-0 tw-text-right tw-self-center tw-mr-1 tw-w-16"},[e._v(e._s(e.getLabel("AverageUsage"))+":")]),r("div",{staticClass:"tw-flex-shrink"},[r("div",{staticClass:"el-input tw-relative tw-w-16",staticStyle:{height:"20px"}},[r("span",{staticClass:"width-machine",class:{"extra-padding":e.isGas},staticStyle:{color:"rgba(0,0,0,0)"},attrs:{"aria-hidden":"true"}},[e._v(e._s(e.AverageUsage))]),r("currency-input",{staticClass:"el-input__inner tw-absolute tw-inset-0 tw-w-full",attrs:{currency:{suffix:" "+e.usageSuffix},precision:0,"auto-decimal-mode":!0,"distraction-free":!1,disabled:e.disabled},model:{value:e.AverageUsage,callback:function(t){e.AverageUsage=t},expression:"AverageUsage"}})],1)])])])},Lr=[],Vr=r("d413"),qr=r("ade3"),Gr=(r("b680"),function(){function e(t){var r=t.AverageBill,n=t.AverageUsage,i=t.CurrentRate,a=t.SupplyPortionPercentage;Object(Ht["a"])(this,e),this._averageBill=r?Number.parseInt(r,10):0,this._averageUsage=n?Number.parseInt(n,10):0,this.CurrentRate=i?Number.parseFloat(i):0,this.SupplyPortionPercentage=a?Number.parseInt(a,0):e.defaultSupplyPortionPercentage}return Object(Kt["a"])(e,[{key:"AverageBill",get:function(){return this._averageBill},set:function(e){var t=Number.parseInt(e,10);this._averageBill=t,this._averageUsage=Number.parseInt(this._getAverageUsageBaseOn(t).toFixed(0),10)}},{key:"AverageUsage",get:function(){return this._averageUsage},set:function(e){var t=Number.parseInt(e,10);this._averageUsage=t,this._averageBill=Number.parseInt(this._getAverageBillBaseOn(t).toFixed(0),10)}},{key:"_getAverageBillBaseOn",value:function(e){return 100*this.CurrentRate*e/this.SupplyPortionPercentage}},{key:"_getAverageUsageBaseOn",value:function(e){return e*(this.SupplyPortionPercentage/100)/this.CurrentRate}}],[{key:"label",value:function(e){var t={AverageBill:"Average Monthly Bill",AverageUsage:"Average Monthly Usage"};return t[e]}},{key:"createFromState",value:function(t,r){var n=t.searchParams?t:t.prices,i=n.searchParams.find((function(e){return e.Commodity===n.currentCommodity})),a=new e({CurrentRate:i.CurrentRate,SupplyPortionPercentage:r});return a.AverageUsage=Number.parseInt((i.Usage/12).toFixed(0),10),a}}]),e}());Object(qr["a"])(Gr,"defaultSupplyPortionPercentage",30),c["default"].use(Vr["a"]);var Hr=Object(Oe["a"])({getterType:"prices/getField",mutationType:"prices/updateAverageBillField"}),Kr=Hr.mapFields,Jr={name:"AverageForm",props:{disabled:{type:Boolean,default:!1}},computed:Object(o["a"])(Object(o["a"])({},Kr(["averageBill.AverageBill","averageBill.AverageUsage"])),{},{currentCommodity:function(){return this.$store.state.prices.currentCommodity},usageSuffix:function(){var e=Wt["a"].getSuffix(this.currentCommodity);return this.$isMobile&&e.length>5?"".concat(e.substring(0,5)):e},isGas:function(){return"G"===this.$store.state.prices.currentCommodity}}),methods:{getLabel:function(e){return this.$isMobile?{AverageBill:"Avg Bill",AverageUsage:"Avg Usage"}[e]:Gr.label(e)}}},Zr=Jr,Wr=(r("4b48"),Object(y["a"])(Zr,zr,Lr,!1,null,null,null)),Qr=Wr.exports,Yr=r("6908"),Xr=r("29de"),en=r("d6df"),tn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"tw-flex tw-flex-row tw-justify-start tw-mx-2"},e._l(e.filterTags,(function(t,n){return r("li",{key:n,staticClass:"tw-mr-1 tw-self-center tw-flex tw-flex-row"},[r("span",{staticClass:"filter-tag-value"},[e._v(e._s(t.value))]),r("span",{staticClass:"tw-ml-2 tw-font-bold remove-tag",on:{click:function(r){return e.removeFilter(t)}}},[e._v("×")])])})),0)},rn=[],nn={name:"FilterTags",computed:Object(o["a"])(Object(o["a"])({},Object(Oe["c"])("prices",["filterApplied"])),{},{filterTags:function(){var e=this,t=[];return this.filterApplied.filter((function(e){return e.checked})).forEach((function(r){var n=null;switch(r.filterKey){case"TermId":n=e.allTerms.find((function(e){return Number.parseInt(e.id,10)===Number.parseInt(r.id,10)}));break;case"SupplierId":n=e.suppliers.find((function(e){return Number.parseInt(e.id,10)===Number.parseInt(r.id,10)}));break;case"ProductId":n=e.products.find((function(e){return Number.parseInt(e.id,10)===Number.parseInt(r.id,10)}));break}n&&(n.filterKey=r.filterKey,t.push(n))})),t},terms:function(){return this.$store.getters["prices/filterContractTerms"]},sweetSpots:function(){return this.$store.getters["prices/filterContractSweetTerms"]},allTerms:function(){return this.terms.concat(this.sweetSpots)},products:function(){return this.$store.getters["prices/filterProducts"]},suppliers:function(){return this.$store.getters["prices/filterSuppliers"]}}),methods:{removeFilter:function(e){var t=JSON.parse(JSON.stringify(this.filterApplied)),r=t.findIndex((function(t){return Number.parseInt(t.id,10)===Number.parseInt(e.id,10)&&t.filterKey===e.filterKey}));-1!==r&&(t[r].checked=!1),this.filterApplied=t}}},an=nn,sn=(r("d690"),Object(y["a"])(an,tn,rn,!1,null,"b8bc1962",null)),on=sn.exports,cn=function(){return r.e("chunk-50dd5bb8").then(r.bind(null,"6b10")).then((function(e){return e.default}))},ln=Object(Oe["a"])({getterType:"prices/getField",mutationType:"prices/updateField"}),un=ln.mapFields,dn={name:"MainView",components:{AlertBox:en["a"],AverageForm:Qr,BillScanDesktopButton:Ar,SearchParameters:yr,ZipInput:Vt,Toolbar:Yr["a"],FilterTags:on,PriceViewToggle:cn},data:function(){return{geoLocationErrorMessage:"",greetingDismiss:window.localStorage&&window.localStorage.getItem("dismiss_greeting")}},computed:Object(o["a"])(Object(o["a"])({},un(["zip","geoLocationCoordinates"])),{},{hasPrices:function(){return this.$store.getters["prices/hasPrices"]},isMobile:function(){return this.$isMobile||this.$isWideMobile||this.$isTablet},hasGeoError:function(){var e=this.$store.state.config.showGeoMessage,t=window.localStorage&&window.localStorage.getItem("dismiss_geo_permission_error");return e&&!t&&this.geoLocationErrorMessage&&this.geoLocationErrorMessage.length>0},withBillScan:function(){return this.$store.state.config.withBillScan},agentName:function(){return this.$store.state.agentName},showGreetings:function(){return this.$store.state.config.showGreetings&&!this.greetingDismiss},identifier:function(){return this.$store.state.config.identifier},utility:function(){var e=this.$store.state.currentUtility;return this.$isMobile&&e&&e.length>12?"".concat(e.substring(0,11),"..."):e},isSearchParamsReadOnly:function(){return!(!this.isFromQuote&&!this.isFromProposal)},quoteUid:function(){return this.$store.state.config.quoteUid},isFromProposal:function(){return this.$store.state.config.fromProposal},isFromQuote:function(){return!!this.quoteUid},isGridViewAvailable:function(){return!0}}),created:function(){},watch:{"$route.params.query":{handler:function(){this.init()},deep:!0,immediate:!0}},methods:{init:function(){if(Xr["a"].proposal.hasProposalJourney()){var e=Xr["a"].proposal.getProposalJourneyParams();this.$router.push({name:"LoadProposalData",params:e})}else{var t=Object.fromEntries(new URLSearchParams(window.location.search).entries()),r=this.$route.query,n=Object(o["a"])(Object(o["a"])({},t),r);if(Object.keys(n).length>0){var i=this.convertShortParamsToApi(n);if(Object.keys(i).length>0)return this.$store.dispatch("prices/validateAndSetPriceParams",i),void this.$store.commit("hideLoading",null,{root:!0})}this.hasPrices||(this.quoteUid?this.$store.dispatch("prices/getPricesByQuoteUid"):this.tryToGetPricesByGeoLocationOrByIp())}},convertShortParamsToApi:function(e){var t={co:"commodity",uid:"utility_id",ucd:"utility_code",anusg:"annual_usage",exusg:"expected_usage",dmd:"demand",crt:"current_rate",stp:"sub_type_id",rcid:"rate_class_id",rccd:"rate_class_code",sdt:"start_date",zid:"zone_id",zcd:"zone_title",avgbl:"average_bill",avgusg:"average_usage",zip:"zip",termlst:"term_months",suplst:"supplier_id"},r={};return Object.keys(t).forEach((function(n){e[n]&&(r[t[n]]=e[n])})),r},tryToGetPricesByGeoLocationOrByIp:function(){var e=this;Nr.getLocation().then((function(t){if(t.success){var r=t.position.coords.latitude,n=t.position.coords.longitude;e.geoLocationCoordinates={lat:r,lon:n},e.geoLocationErrorMessage=""}else t.link?e.geoLocationErrorMessage="".concat(t.error,' <a href="').concat(t.link,'" target="_blank"><b>CLICK FOR INSTRUCTION</b></a>&nbsp;&nbsp;'):e.geoLocationErrorMessage="".concat(t.error," &nbsp;&nbsp;"),e.$store.commit("prices/resetGeoLocation");e.$store.dispatch("prices/getPricesByGeoOrIp")}))},getPricesByClick:function(){this.$store.commit("prices/resetPrices"),this.zip&&this.$store.dispatch("prices/getPricesByGeoOrIp")},getPricesFromInput:function(){!this.zip||this.zip.length<5||(this.$store.commit("prices/resetSearchParams"),this.$store.commit("prices/resetPrices"),this.$store.dispatch("prices/getPricesByGeoOrIp"))},onSearchParamsChange:function(){this.$store.dispatch("prices/getPricesByParams")},dismissGeoError:function(){window.localStorage.setItem("dismiss_geo_permission_error",!0)},dismissGreeting:function(){this.greetingDismiss=!0,window.localStorage.setItem("dismiss_greeting",!0)}}},pn=dn,fn=(r("b32a"),Object(y["a"])(pn,Et,Dt,!1,null,null,null)),mn=fn.exports;c["default"].use(j["a"]);var hn,gn=[{path:"/",component:mn,props:!0,children:[{path:"/",name:"Home",component:Mt,props:!0},{path:"/start-journey",name:"GreatRatePage",props:!0,component:function(){return r.e("start-journey").then(r.bind(null,"52dc"))}}]},{path:"/customer-form/step-account",name:"AccountStep",component:function(){return Promise.all([r.e("customer-form/step-account~customer-form/step-customer-info"),r.e("customer-form/step-account")]).then(r.bind(null,"53a3"))}},{path:"/customer-form/step-contract",name:"CustomerInfoStep",component:function(){return Promise.all([r.e("customer-form/step-account~customer-form/step-customer-info"),r.e("customer-form/step-customer-info")]).then(r.bind(null,"5b33"))}},{path:"/customer-form/step-view/:contractUid/:signUrl",name:"ReviewStep",component:function(){return r.e("customer-form/step-view").then(r.bind(null,"b885"))},props:!0},{path:"/load-data/:id",name:"LoadData",component:function(){return r.e("customer-form/load-data").then(r.bind(null,"a0ca"))},props:!0},{path:"/proposal/:proposalLinkUid/:priceId",name:"LoadProposalData",component:function(){return r.e("load-proposal-data").then(r.bind(null,"6eb7"))},props:!0},{path:"/proposal-file/:proposalLinkUid/:priceOfferUid",name:"LoadOfferProposalData",component:function(){return r.e("load-offer-proposal-data").then(r.bind(null,"dee9"))},props:!0},{path:"/congratulations",name:"Congratulations",component:function(){return r.e("congratulations").then(r.bind(null,"6196"))}}],vn=[{path:"/",component:mn,props:!0,children:[{path:"/",name:"Home",component:Mt,props:!0},{path:"/start-journey",name:"GreatRatePage",props:!0,component:function(){return r.e("start-journey").then(r.bind(null,"52dc"))}}]},{path:"/customer-form/step-account",name:"AccountStep",component:function(){return Promise.all([r.e("customer-form/step-account~customer-form/step-customer-info"),r.e("customer-form/step-account")]).then(r.bind(null,"29ae"))}},{path:"/customer-form/step-contract",name:"CustomerInfoStep",component:function(){return Promise.all([r.e("customer-form/step-account~customer-form/step-customer-info"),r.e("customer-form/step-customer-info")]).then(r.bind(null,"3e16"))}},{path:"/customer-form/step-view/:contractUid/:signUrl",name:"ReviewStep",component:function(){return r.e("customer-form/step-view").then(r.bind(null,"b885"))},props:!0},{path:"/load-data/:id",name:"LoadData",component:function(){return r.e("customer-form/load-data").then(r.bind(null,"a0ca"))},props:!0},{path:"/proposal/:proposalLinkUid/:priceId",name:"LoadProposalData",component:function(){return r.e("load-proposal-data").then(r.bind(null,"6eb7"))},props:!0},{path:"/congratulations",name:"Congratulations",component:function(){return r.e("congratulations").then(r.bind(null,"6196"))}}],bn=null,wn=function(e){return bn||(bn=new j["a"]({mode:"hash",base:"https://myservicecloud.net/js/widgets/comm-pricing/build/",routes:e?vn:gn})),bn},yn=(r("46a1"),r("e5f2")),_n=r.n(yn),Cn=r("9b4c"),xn=r("2f62"),kn=r("1645"),Sn=(r("9e1f"),r("6ed5")),Pn=r.n(Sn),jn=r("f2d3"),On=r("c466"),In={assignAverageBill:function(e,t){var r=t.prices.supplyPortion,n=Gr.createFromState(t,r);e.commit("prices/updateAverageBill",n)},assignUsage:function(e,t){var r=t.prices.searchParams.findIndex((function(e){return e.Commodity===t.prices.currentCommodity})),n=t.prices.averageBill.AverageUsage;e.commit("prices/updateUsage",{usage:12*n,currentSearchParamsIndex:r}),hn&&clearTimeout(hn),hn=setTimeout((function(){e.dispatch("prices/getPricesByParams"),hn=null}),1e3)},assignZip:function(e){e.dispatch("prices/getPricesByGeoOrIp")}},Fn=function(e){e.subscribe((function(t,r){var n=t.type,i=t.payload;"prices/updateField"===n&&i.path.includes("Usage")&&In.assignAverageBill(e,r),"prices/updateField"===n&&i.path.includes("CurrentRate")&&In.assignAverageBill(e,r),"prices/setPricesByParamsFromApiResponse"===n&&In.assignAverageBill(e,r),"prices/updateAverageBillField"===n&&In.assignUsage(e,r),"prices/updateZip"===n&&In.assignZip(e)}))},Tn=[12,18,24,36,48,60];function An(e,t){var r=e.searchParams.find((function(t){return t.Commodity===e.currentCommodity}));return r?r[t]:null}function Bn(e,t,r){var n=e.searchParams.find((function(t){return t.Commodity===e.currentCommodity}));n&&(n[t]=r)}function $n(e){return e.commodity&&e.utility_id&&e.expected_usage}function Mn(e){var t=e.eBrokerFee,r=e.gBrokerFee;return[Object(o["a"])({},new Jt({commodity:"E",broker_fee:t})),Object(o["a"])({},new Jt({commodity:"G",broker_fee:r}))]}function En(e){var t=e.commit;return function(e){var r=e.action,n=e.msg,i=e.delay;return new Promise((function(e){"show"===r&&setTimeout((function(){t("showLoading",{transparent:!1,htmlText:n},{root:!0}),e()}),i),"hide"===r&&setTimeout((function(){t("hideLoading",null,{root:!0}),e()}),i)}))}}function Dn(){return function(){return new Promise((function(e){return e()}))}}function Rn(e){return{commodity:e.currentCommodity,start_date:On["a"].convertToDB(An(e,"StartDate")),start_date_g:On["a"].convertToDB(An(e,"StartDateG")),start_date_e:On["a"].convertToDB(An(e,"StartDateE")),utility_id:An(e,"UtilityId"),expected_usage:An(e,"Usage"),rate_class_id:An(e,"RateClassId"),sub_type_id:An(e,"SubTypeId"),zone_title:An(e,"ZoneId"),current_rate:An(e,"CurrentRate"),demand:An(e,"Demand"),broker_fee:An(e,"BrokerFee"),term_months:An(e,"Terms"),supplier_id:An(e,"Suppliers")}}function Un(e,t){e.responseErrorMessage&&e.responseErrorMessage.length>0?t("showAlert",{title:e.responseErrorMessage,type:"warning",closable:!1},{root:!0}):t("removeAlert",null,{root:!0})}var Nn={namespaced:!0,state:function(){return{zip:null,geoLocationCoordinates:{lat:null,lon:null},searchParams:Mn({}),averageBill:Object(o["a"])({},new Gr({})),prices:[],recommendedPrices:{E:[],G:[]},filterApplied:[],currentCommodity:"E",responseErrorMessage:"",supplyPortion:30,proposalTime:void 0,frozenResultHistoryId:void 0}},mutations:{updateField:Oe["e"],updateZip:function(e,t){e.zip=t},updateAverageBillField:function(e,t){var r=t.path,n=t.value,i=r.split(".");if(2!==i.length)throw new Error("Wrong path for updateAverageBill mutation ");var a=new Gr(e.averageBill);a[i[1]]=n,e.averageBill=a},updateAverageBill:function(e,t){e.averageBill=t},updateUsage:function(e,t){var r=t.usage,n=t.currentSearchParamsIndex;e.searchParams[n].Usage=r},updateStartDate:function(e,t){e.searchParams.forEach((function(e){e.StartDate=t}))},resetPrices:function(e){e.prices=[]},resetSearchParams:function(e){var t=e.searchParams.find((function(e){return"E"===e.Commodity})).BrokerFee,r=e.searchParams.find((function(e){return"G"===e.Commodity})).BrokerFee;e.searchParams=Mn({eBrokerFee:t,gBrokerFee:r})},resetGeoLocation:function(e){e.geoLocationCoordinates={lat:null,lon:null}},setPricesByGeoFromApiResponse:function(e,t){var r=this;if(t.success){var n=t.data.result;e.zip=n.address.postal_code;var i=[];Object.keys(n.commodities).forEach((function(t){var a,s,c=n.commodities[t].prices;c&&c.length>0&&e.currentCommodity===t&&(e.prices=e.prices.concat(Ot["a"].createFromServer(c)),e.responseErrorMessage="",e.supplyPortion=n.commodities[t].supply_portion,null!==(s=n.commodities[t])&&void 0!==s&&s.default_filters&&r.commit("setDefaultFilter",n.commodities[t].default_filters,{root:!0}));n.commodities[t].recommended_prices&&(e.recommendedPrices[t]=n.commodities[t].recommended_prices.map((function(e){return new jn["a"](e)})));var l=Ot["a"].createFromServer(c).sort((function(e,t){return e.Price-t.Price})),u=Object(B["a"])(l).pop(),d=null;u&&(d=u.Price),i.push(new Jt(Object(o["a"])(Object(o["a"])(Object(o["a"])({commodity:t},n.commodities[t].params),n.common_params),{},{current_rate:d,start_date_g:n.common_params.start_date_G,start_date_e:n.common_params.start_date_E,broker_fee:null===(a=e.searchParams.find((function(e){return e.Commodity===t})))||void 0===a?void 0:a.BrokerFee})))})),e.searchParams=i,e.averageBill=Gr.createFromState(e,e.supplyPortion),this.getters["prices/hasPrices"]||(e.responseErrorMessage=Mr["b"])}else 2011===t.code?e.responseErrorMessage=Mr["c"]:2012===t.code?e.responseErrorMessage=Mr["d"]:e.responseErrorMessage=Mr["e"],console.log(t.message)},setPricesByParamsFromApiResponse:function(e,t){if(t.success){var r=t.data.prices;e.prices=e.prices.concat(Ot["a"].createFromServer(r)),t.data.recommended_prices&&(e.recommendedPrices[e.currentCommodity]=t.data.recommended_prices.map((function(e){return new jn["a"](e)}))),e.supplyPortion=t.data.supply_portion,e.responseErrorMessage="",this.getters["prices/hasPrices"]||(e.responseErrorMessage=Mr["b"])}else console.log(t.message)},switchCommodity:function(e,t){e.currentCommodity=t||("E"===e.currentCommodity?"G":"E")},loadFromQuoteData:function(e,t){var r=t.prices,n=t.searchParams,i=t.recommendedPrices,a=t.supplyPortion,s=t.filterApplied;e.currentCommodity=n.Commodity,e.prices=r,e.recommendedPrices[e.currentCommodity]=Object(B["a"])(i),e.supplyPortion=a,e.filterApplied=s.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{id:Number.parseInt(e.id,10)})})),e.searchParams=e.searchParams.map((function(t){return t.Commodity===e.currentCommodity?n:t})),In.assignAverageBill(this,e)},loadFromProposalData:function(e,t){var r=t.searchParams,n=t.price;e.currentCommodity=r.commodity,e.searchParams=e.searchParams.map((function(e){return e.Commodity===r.commodity?Object(o["a"])({},new Jt(r)):e})),e.prices=e.prices.concat(Ot["a"].createFromServer([n])),e.proposalTime=t.proposalTime,e.frozenResultHistoryId=t.frozenResultHistoryId},loadFromOfferProposalData:function(e,t){var r=t.searchParams,n=t.price;e.currentCommodity=r.commodity,e.searchParams=e.searchParams.map((function(e){return e.Commodity===r.commodity?Object(o["a"])({},new Jt(r)):e})),e.prices=e.prices.concat(Ot["a"].createFromServer([n])),e.proposalTime=t.proposalTime,e.offerData=t.offer},setValidPriceParams:function(e,t){var r=Object.keys(t);e.searchParams=Mn({}),r.forEach((function(r){switch(r){case"commodity":e.currentCommodity=t[r];break;case"utility_id":Bn(e,"UtilityId",Number.parseInt(t[r]));break;case"expected_usage":case"annual_usage":Bn(e,"Usage",Number.parseFloat(t[r]));var n=new Gr(e.averageBill);n.AverageUsage=Number.parseInt(Number.parseFloat(t[r])/12,10),e.averageBill=n;break;case"demand":Bn(e,"Demand",Number.parseFloat(t[r]));break;case"broker_fee":Bn(e,"BrokerFee",Number.parseFloat(t[r]));break;case"current_rate":Bn(e,"CurrentRate",t[r]);break;case"sub_type_id":Bn(e,"SubTypeId",Number.parseFloat(t[r]));break;case"rate_class_id":Bn(e,"RateClassId",Number.parseFloat(t[r]));break;case"start_date":Bn(e,"StartDate",new Date);break;case"start_date_g":Bn(e,"StartDateG",new Date);break;case"start_date_e":Bn(e,"StartDateE",new Date);break;case"average_bill":if(!t.expected_usage&&!t.annual_usage){var i=Gr.createFromState(e,e.supplyPortion);i.AverageBill=Number.parseFloat(t[r]),e.averageBill.AverageBill=i.AverageBill,t.average_usage||(e.averageBill.AverageUsage=i.AverageUsage)}break;case"average_usage":if(!t.expected_usage&&!t.annual_usage){var a=new Gr(e.averageBill);a.AverageUsage=t.average_usage,e.averageBill=a}break;case"zone_id":break;case"zone_title":Bn(e,"ZoneId",t[r]);break;case"term_months":Bn(e,"Terms",t[r]);break;case"supplier_id":Bn(e,"Suppliers",t[r]);break;default:An(e,"StartDate")||Bn(e,"StartDate",new Date)}}))}},actions:{validateAndSetPriceParams:function(e,t){var r=e.commit,n=e.dispatch;Cn["a"].prices.getValidParams(t).then((function(e){r("setValidPriceParams",e),n("getPricesByParams"),e.utility_id?n("setCurrentUtilityById",e.utility_id,{root:!0}):e.zip&&(r("resetSearchParams"),r("updateZip",e.zip))}))},getPricesByGeoOrIp:function(e){var t=e.commit,r=e.state,n=e.rootState,i=e.getters,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t("resetPrices");var s=Dn();a&&(s=En({commit:t})),s({action:"show",msg:"We are searching through millions of rates<br>finding the best ones for you!"});var o,c=r.geoLocationCoordinates,l=c.lat,u=c.lon,d=r.zip,p=Date.now(),f=n.config,m=f.isEnterprise,h=f.embeddedToMsc;return o=n.config.identifier&&void 0!==n.config.identifier&&"null"!==n.config.identifier?n.config.identifier:null,Cn["a"].prices.getPricesByGeo({lat:l,lon:u,zip:d,startDate:i.startDateForCurrentCommodity,fromMsc:h,identifier:o}).then(function(){var e=Object(F["a"])(regeneratorRuntime.mark((function e(n){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=Date.now(),a=Math.max(0,2e3-(i-p)),h&&(a=0),!m){e.next=10;break}return e.next=6,s({action:"show",msg:"Calculating how much free bonus stuff<br>you are eligible for!",delay:a});case 6:return e.next=8,s({action:"hide",delay:2e3});case 8:e.next=12;break;case 10:return e.next=12,s({action:"hide",delay:a});case 12:t("resetPrices"),t("setPricesByGeoFromApiResponse",n),Un(r,t);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getPricesByParams:function(e){return Object(F["a"])(regeneratorRuntime.mark((function t(){var r,n,i,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.commit,n=e.state,i=e.rootState,a=Rn(n),!$n(a)){t.next=9;break}return r("resetPrices"),r("showLoading",{transparent:!0},{root:!0}),s=i.config.identifier&&void 0!==i.config.identifier&&"null"!==i.config.identifier?i.config.identifier:null,a.identifier=s,t.next=9,Cn["a"].prices.getPriceByParams({params:a,flatPrice:!1}).then((function(e){var t;r("resetPrices"),r("setPricesByParamsFromApiResponse",e),r("hideLoading",null,{root:!0}),null!==(t=e.data)&&void 0!==t&&t.default_filters&&r("setDefaultFilter",e.data.default_filters,{root:!0}),Un(n,r)}));case 9:case"end":return t.stop()}}),t)})))()},getPricesByQuoteUid:function(e){var t=e.state,r=e.commit,n=e.rootState,i=e.dispatch;r("showLoading",{transparent:!0,htmlText:"Loading data..."},{root:!0}),Cn["a"].prices.loadQuoteData(n.config.quoteUid).then((function(e){if(e.error)return r("hideLoading",null,{root:!0}),void console.log(e.message);r("resetPrices");var n=e.data;r("setCurrentUtility",n.currentUtilityObject,{root:!0}),r("loadFromQuoteData",n),i("enrollment/initFromQuoteData",n,{root:!0}).then((function(){r("hideLoading",null,{root:!0})})),Un(t,r)}))},getPricesForOppositeCommodity:function(e){var t=e.state,r=e.dispatch,n=e.commit,i=e.getters;n("showLoading",{transparent:!0},{root:!0}),n("switchCommodity"),r("getPricesByGeoOrIp",!1).then((function(){var e=i.utilityIdForCurrentCommodity;r("setCurrentUtilityById",e,{root:!0}),n("hideLoading",null,{root:!0}),Un(t,n)}))},checkIfRateStillAvailable:function(e,t){var r=t.rate,n=t.term,i=t.supplierId,a=e.state,s=e.commit,o=e.rootGetters,c=e.dispatch,l=e.rootState,u=e.getters;s("showLoading",{transparent:!1,htmlText:" "},{root:!0});var d=Rn(a),p=o["enrollment/getTotalAccountsUsage"];p&&(d.expected_usage=p);var f=o["enrollment/getAccountStartDate"];f&&(d.start_date=f);var m=a.frozenResultHistoryId;m&&(d.frozen_result_history_id=m,d.price_id=l.currentPriceId);var h,g=a.offerData;return g&&(d.offer_id=g.offer_id,d.price_id=l.currentPriceId),h=l.config.identifier&&void 0!==l.config.identifier&&"null"!==l.config.identifier?l.config.identifier:null,d.identifier=h,Cn["a"].prices.getPriceByParams({params:d,flatPrice:!0}).then(function(){var e=Object(F["a"])(regeneratorRuntime.mark((function e(t){var a,d,p,f,m,h,g,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.success){e.next=25;break}if(a=t.data.prices,d=l.config.fromProposal,p=a.find((function(e){return i===Number.parseInt(e.supplier_id,10)&&n===Number.parseInt(e.term_months,10)&&r===Number.parseFloat(e.offered_price)})),!p){e.next=12;break}if(f=p.is_expired,f&&u.isProposalStillValid&&(f=!1),!d||!f){e.next=9;break}return e.abrupt("return",!1);case 9:return m=Ot["a"].createFromServer([p])[0],s("enrollment/setSelectedPrice",{price:m,utilityCode:o.utilityObject.Code,brokerFee:u.brokerFee,rateClassCode:u.getCurrentRateClassCode,subTypeTitle:u.getCurrentSubTypeTitle},{root:!0}),e.abrupt("return",!0);case 12:if(h=a.find((function(e){return i===Number.parseInt(e.supplier_id,10)&&n===Number.parseInt(e.term_months,10)})),!h){e.next=22;break}if(g=h.is_expired,g&&u.isProposalStillValid&&(g=!1),!d||!g){e.next=18;break}return e.abrupt("return",!1);case 18:return e.next=20,Pn.a.confirm("Due to changes,<br> your rate has changed from ".concat(r," to ").concat(h.offered_price),{dangerouslyUseHTMLString:!0,customClass:"msc",confirmButtonText:"Accept",cancelButtonText:"See All Options",showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1}).then((function(){var e=Ot["a"].createFromServer([h])[0];return s("enrollment/setSelectedPrice",{price:e,utilityCode:o.utilityObject.Code,brokerFee:u.brokerFee,rateClassCode:u.getCurrentRateClassCode,subTypeTitle:u.getCurrentSubTypeTitle},{root:!0}),!0})).catch((function(){return!1}));case 20:return v=e.sent,e.abrupt("return",v);case 22:return e.next=24,Pn.a.alert("Due to changes, your rate is no longer available",{customClass:"msc",confirmButtonText:"See All Options",showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1});case 24:return e.abrupt("return",!1);case 25:return e.next=27,c("showMessage",{type:"error",message:t.message},{root:!0});case 27:return e.abrupt("return",!1);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},getters:{getField:Oe["b"],hasPrices:function(e){return e.prices.length>0},recommendedPrices:function(e,t,r){var n=Object(B["a"])(e.recommendedPrices[e.currentCommodity]).filter((function(e){return!(!r.config.isEnterprise&&"Best Offer"===e.Title)}));return n.sort((function(e,t){return e.Order===t.Order?0:e.Order>t.Order?1:-1}))},usageForCurrentCommodity:function(e){return An(e,"Usage")},utilityIdForCurrentCommodity:function(e){return An(e,"UtilityId")},brokerFee:function(e){return An(e,"BrokerFee")},getCurrentRateClassCode:function(e){return An(e,"RateClassCode")},getCurrentSubTypeTitle:function(e){return An(e,"SubTypeTitle")},startDateForCurrentCommodity:function(e){return On["a"].convertToDB(An(e,"StartDate"))},currentCommodity:function(e){return e.currentCommodity},filterContractTerms:function(e){var t=[],r=[];return e.prices.forEach((function(e){!t.includes(e.TermId)&&Tn.includes(e.TermId)&&(t.push(e.TermId),r.push({id:e.TermId,value:e.Term}))})),r.sort((function(e,t){return e.id>t.id?1:-1}))},filterContractSweetTerms:function(e){var t=[],r=[];return e.prices.forEach((function(e){t.includes(e.TermId)||Tn.includes(e.TermId)||(t.push(e.TermId),r.push({id:e.TermId,value:e.Term}))})),r.sort((function(e,t){return e.id>t.id?1:-1}))},filterProducts:function(e){var t=[],r=[];return e.prices.forEach((function(e){t.includes(e.ProductAlias)||(t.push(e.ProductAlias),r.push({id:e.ProductId,value:e.Product,alias:e.ProductAlias}))})),r.sort((function(e,t){return e.value>t.value?1:-1}))},filterSuppliers:function(e){var t=[],r=[];return e.prices.forEach((function(e){t.includes(e.SupplierId)||(t.push(e.SupplierId),r.push({id:e.SupplierId,value:e.Supplier}))})),r.sort((function(e,t){return e.value>t.value?1:-1}))},isProposalStillValid:function(e){if(!e.proposalTime)return!1;var t=Number.parseInt(e.proposalTime,10),r=Math.round(new Date/1e3);return t+259200>r}}},zn=(r("a434"),r("b0c0"),r("a15b"),r("1877")),Ln=r("9a13"),Vn=r("8ae6"),qn=r("66a7"),Gn={namespaced:!0,state:function(){return{enrollmentModel:zn["a"].default(),pricesWithGeneratedContract:[],is_signed:!1}},mutations:{updateField:Oe["e"],addAccount:function(e,t){e.enrollmentModel.Customer.Accounts.push(t)},setDocuments:function(e,t){e.enrollmentModel.Customer.Documents=t},addDocument:function(e,t){e.enrollmentModel.Customer.Documents||(e.enrollmentModel.Customer.Documents=[]),e.enrollmentModel.Customer.Documents.push(t)},removeDocument:function(e,t){e.enrollmentModel.Customer.Documents=e.enrollmentModel.Customer.Documents.filter((function(e){return e.DocumentUid!==t.DocumentUid}))},removeAccount:function(e,t){e.enrollmentModel.Customer.Accounts.splice(t,1)},resetAccountsDataIfUtilityChanged:function(e,t){var r=t.utilityCode,n=t.stateCode;e.enrollmentModel.Customer.Accounts.forEach((function(e){e.UtilityCode!==r&&(e.AccountNumber=""),e.ServiceAddress.State!==n&&(e.ServiceAddressText="",e.ServiceAddress=qn["a"].default())}))},setSelectedPrice:function(e,t){var r=t.price,n=t.utilityCode,i=t.brokerFee,a=t.rateClassCode,s=t.subTypeTitle;e.enrollmentModel.PriceId=r.PriceId,e.enrollmentModel.BrokerFee=i,e.enrollmentModel.BasePrice=r.BasePrice,e.enrollmentModel.OfferedPrice=r.Price,e.enrollmentModel.Customer.Accounts.forEach((function(e){e.Commodity=r.Commodity,e.UtilityCode=n,e.RateClassCode=a||r.RateClass,e.SubTypeTitle=s||r.SubType,e.ZoneCode=r.Zone}))},resetEnrollment:function(e){1===e.pricesWithGeneratedContract.length?(e.enrollmentModel.Customer.Accounts=[],e.enrollmentModel.Customer.Documents=null):e.enrollmentModel=zn["a"].default()},updatePricesWithGeneratedContract:function(e,t){e.pricesWithGeneratedContract.find((function(e){return e.Commodity===t.Commodity}))||e.pricesWithGeneratedContract.push(t)},signed:function(e){e.is_signed=!0},setCustomerFromQuote:function(e,t){t.contact_address.IsManual=!0,e.enrollmentModel.Customer=kn["a"].fromServer(t)},setAccountsFromQuote:function(e,t){t.forEach((function(t){t.service_address.IsManual=!0,e.enrollmentModel.Customer.Accounts.push(Vn["a"].fromServer(t))}))},setFrozenResultHistoryId:function(e,t){e.enrollmentModel.FrozenResultHistoryId=t||null},setOfferData:function(e,t){e.enrollmentModel.OfferData=t||null},setStartDate:function(e,t){e.enrollmentModel.StartDate=t},setJourneyGuid:function(e,t){e.enrollmentModel.JourneyGuid=t}},actions:{resetEnrollment:function(e){var t=e.commit;t("resetEnrollment")},uploadTaxExempt:function(e,t){var r=e.dispatch;r("uploadDocument",{files:t,type:"tax_exempt"})},uploadBill:function(e,t){var r=e.dispatch;r("uploadDocument",{files:t,type:"bill"})},uploadDocument:function(e,t){var r=this;return Object(F["a"])(regeneratorRuntime.mark((function n(){var i,a,s,o,c,l,u,d,p,f,m,h;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=e.state,a=e.commit,s=e.rootState,o=t.files,c=t.type,!s.config.demoMode){n.next=5;break}return r.dispatch("showMessage",{type:"error",message:"Can't upload documents in demo mode"}),n.abrupt("return");case 5:a("showLoading",{transparent:!0,htmlText:"Uploading document..."},{root:!0}),l=[],i.enrollmentModel.Customer.Documents&&i.enrollmentModel.Customer.Documents.length&&i.enrollmentModel.Customer.Documents.forEach((function(e){e.DocumentType===c&&l.push(e.FileName)})),u=0;case 9:if(!(u<o.length)){n.next=26;break}if(d=o[u],l.includes(d.name)){n.next=22;break}return p=Ln["a"].default(),p.DocumentType=c,p.FileName=d.name,n.next=17,Cn["a"].enrollment.uploadDocument({file:d,type:p.DocumentType});case 17:f=n.sent,m=f.uploadDocument,m.envelope_response.is_success?(p.DocumentUid=m.document_uid,a("addDocument",p)):(h=m.errors.map((function(e){return e.error_message})),r.dispatch("showMessage",{type:"error",message:h.join("<br>")})),n.next=23;break;case 22:r.dispatch("showMessage",{type:"error",message:'The File "'.concat(d.name,'" already already exist')});case 23:u+=1,n.next=9;break;case 26:a("hideLoading",null,{root:!0});case 27:case"end":return n.stop()}}),n)})))()},create:function(e){var t=this,r=e.state,n=e.dispatch,i=e.rootState,a=e.commit,s=i.config,c=s.demoMode,l=s.fromProposal,u=s.isEnterprise;if(c)this.dispatch("showMessage",{type:"error",message:"Can't create contract in demo mode"});else{var d;a("showLoading",{transparent:!1,htmlText:"Preparing contract..."},{root:!0});var p,f="create";if(r.enrollmentModel.OfferData)d=Object(o["a"])({},r.enrollmentModel.OfferData),r.enrollmentModel.Customer.Accounts.filter((function(e){return"TX"===e.ServiceAddress.State})).length>0&&(d.enrollment_details={enrollment_type:"STANDARD",enrollment_date:r.enrollmentModel.StartDate}),f=null!==i&&void 0!==i&&null!==(p=i.permissions)&&void 0!==p&&p.overrideRor?"createFromOffer":"createFromOfferNoRor";else d=zn["a"].toServer(r.enrollmentModel),d.customer.accounts.forEach((function(e){"TX"===e.service_address.state?e.enrollment_details.enrollment_date=d.start_date:e.enrollment_details=null}));Cn["a"].enrollment[f](d).then((function(e){if(e.envelope_response.is_success){n("setContractGeneratedSuccessfully"),l&&Xr["a"].proposal.finishProposalJourney();var r=wn(u);r.push({name:"ReviewStep",params:{signUrl:e.in_person_sign_url,contractUid:e.contract_uid}})}else if(l)Xr["a"].proposal.finishProposalJourney(),a("showAlert",{title:"Your price has expired. Please contact your Energy Consultant!",type:"warning",closable:!1},{root:!0});else{var i=e.errors.map((function(e){return e.error_message}));t.dispatch("showMessage",{type:"error",message:i.join("<br>")})}a("hideLoading",null,{root:!0})})).catch((function(e){console.log(e),console.log(JSON.stringify(e)),a("hideLoading",null,{root:!0}),t.dispatch("showMessage",{type:"error",message:"Unknown error!"})}))}},sendViaDocuSign:function(e,t){var r=this,n=e.commit;return n("showLoading",{transparent:!1,htmlText:"Sending contract..."},{root:!0}),Cn["a"].enrollment.sendViaDocuSign(t).then((function(e){n("hideLoading",null,{root:!0});var t=e.sendContractViaDocuSign;if(t.envelope_response.is_success)return!0;var i=t.errors.map((function(e){return e.error_message}));return r.dispatch("showMessage",{type:"error",message:i.join("<br>")}),!1}))},setContractGeneratedSuccessfully:function(e){var t=e.rootState,r=e.commit,n=e.getters,i=n.priceById(t.currentPriceId);r("updatePricesWithGeneratedContract",i)},initFromQuoteData:function(e,t){var r=e.commit,n=t.customer,i=t.accounts;r("setCustomerFromQuote",n),r("setAccountsFromQuote",i),r("setFrozenResultHistoryId",t.frozenResultHistoryId),r("setStartDate",t.start_date)},initFromOfferProposalData:function(e,t){var r=e.commit,n=t.customer,i=t.accounts;r("setCustomerFromQuote",n),r("setAccountsFromQuote",i),r("setOfferData",t.offer),r("setStartDate",t.start_date)}},getters:{getField:Oe["b"],utilityNumberFormat:function(e,t,r){var n=r.currentUtilityObject.numberFormats,i=r.prices.currentCommodity;if(!n)return"";var a=n.filter((function(e){return e.commodity===i}));return a&&0!==a.length&&a[0].account_number_format?a[0].account_number_format:""},accountNumberLabel:function(e,t,r){var n="Account Number";return r.currentUtilityObject.utilityCommodity&&(n=r.currentUtilityObject.utilityCommodity[0].account_number_label),n},priceById:function(e,t,r){return function(e){var t=r.prices.prices.find((function(t){return t.PriceId===Number.parseInt(e,10)}));return t||(t=new Ot["a"]({})),t}},getTotalAccountsUsage:function(e){var t=e.enrollmentModel,r=0;return t.Customer.Accounts.forEach((function(e){r+=Number.parseInt(e.AnnualVolume,10)})),r},getAccountStartDate:function(e){var t=e.enrollmentModel,r=t.StartDate;return r&&"string"===typeof r?On["a"].convertToDB(r):r?On["a"].convertToDB(r,"MM/DD/YYYY"):null}}},Hn=!1,Kn=!1,Jn=!0,Zn=!0,Wn=!0,Qn="card",Yn={plugin:null,createPlugin:function(e){var t=e.jwtPayload,r=e.demoMode,n=e.showGreetings,i=e.authKey,a=e.embeddedToMsc,s=e.quoteUid,o=e.identifier,c=t.config||{},l=void 0!==c.bill_scan&&null!==c.bill_scan?c.bill_scan:Hn,u=void 0!==c.show_geo_message&&null!==c.show_geo_message?c.show_geo_message:Jn,d=void 0!==c.show_card_view&&null!==c.show_card_view?c.show_card_view:Zn,p=void 0!==c.show_grid_view&&null!==c.show_grid_view?c.show_grid_view:Wn,f=void 0!==c.default_view&&null!==c.default_view?c.default_view:Qn,m=void 0===c.price_summary||null===c.price_summary||c.price_summary,h=void 0===c.savings_chart||null===c.savings_chart||c.savings_chart,g=void 0===c.information||null===c.information||c.information,v=void 0!==c.show_price_summary&&null!==c.show_price_summary&&c.show_price_summary,b=void 0!==c.show_savings_chart&&null!==c.show_savings_chart&&c.show_savings_chart,w=void 0===c.show_information||null===c.show_information||c.show_information,y=void 0!==c.offers&&null!==c.offers?c.offers:Kn;(void 0!==a||s)&&(y=!1),this.plugin=function(e){e.commit("initConfig",{withBillScan:l,isEnterprise:y,showGeoMessage:u,demoMode:"true"===r,showGreetings:"true"===n,authKey:i,embeddedToMsc:void 0!==a,quoteUid:s,showCardView:d,showGridView:p,identifier:o,defaultView:f,priceSummary:m,savingsChart:h,information:g,showSavingsChart:b,showPriceSummary:v,showInformation:w,permissions:null===t||void 0===t?void 0:t.permissions});var _=t.user;_&&e.commit("setAgentName",_);var C=t.defaultFilter;C&&e.commit("setDefaultFilter",C),e.commit("setIsGridViewAvailable",void 0!==a),e.commit("toggleCardView","card"===f),d&&p&&"cardView"in c&&e.commit("toggleCardView",c.cardView)}},getPlugin:function(){if(!this.plugin)throw new Error("Plugin is null. Do you call createPlugin() previously?");return this.plugin}},Xn=$r.a.getParser(window.navigator.userAgent).getPlatformType(!0),ei=/Macintosh/i.test(window.navigator.userAgent)&&window.navigator.maxTouchPoints&&window.navigator.maxTouchPoints>1,ti=480,ri=function(){function e(){Object(Ht["a"])(this,e)}return Object(Kt["a"])(e,[{key:"install",value:function(e,t){e.prototype.$isMobile="mobile"===Xn&&window.innerWidth<ti,e.prototype.$isWideMobile=window.innerWidth>=ti&&"mobile"===Xn,e.prototype.$isTablet=ei||"tablet"===Xn,e.prototype.$device="desktop",(e.prototype.$isMobile||e.prototype.$isWideMobile)&&(e.prototype.$device="mobile"),e.prototype.$isTablet&&(e.prototype.$device="tablet")}}]),e}(),ni=r("262e"),ii=r("2caf"),ai=r("9242"),si=function(e){Object(ni["a"])(r,e);var t=Object(ii["a"])(r);function r(){return Object(Ht["a"])(this,r),t.apply(this,arguments)}return Object(Kt["a"])(r,[{key:"config",value:function(){return{Id:{serverField:"id"},Code:{serverField:"utility_code"},IsNameKeyRequired:{type:Number,default:0,serverField:"is_name_key_required"},IsServiceAgreementRequired:{type:Number,default:0,serverField:"is_service_agreement_required"}}}}]),r}(ai["a"]),oi=r("b018");c["default"].use(xn["a"]);var ci=0;function li(){var e=Yn.getPlugin();c["default"].use(new ri);var t=new c["default"];return new xn["a"].Store({strict:!1,plugins:[e,Fn],modules:{prices:Nn,enrollment:Gn},state:{isFilterOpen:!t.$isMobile&&!t.$isWideMobile&&!t.$isTablet,currentPriceId:null,currentUtility:null,currentUtilityObject:null,appLoading:!0,initial:!0,loaderHtmlText:"",transparentLoader:!0,agentName:null,config:{withBillScan:!1,isEnterprise:!1,showGeoMessage:!1,demoMode:!1,showGreetings:!1,authKey:null,embeddedToMsc:!1,quoteUid:null,identifier:null,fromProposal:!1},alert:{title:null,closable:!0,type:"warning"},isCardView:!0,priceTermsSwitcher:"all",showPriceSummary:!1,showSavingsChart:!1,showSupplierInformation:!1,isGridViewAvailable:!1},getters:{getField:Oe["b"],utilityObject:function(e){return si.fromServer(Object(o["a"])(Object(o["a"])({},e.currentUtilityObject),{},{id:e.currentUtilityObject.value}))}},mutations:{updateField:Oe["e"],setCurrentPriceId:function(e,t){e.currentPriceId=t},setCurrentUtility:function(e,t){e.currentUtilityObject=t,e.currentUtility=null===t||void 0===t?void 0:t.label},loadState:function(e,t){e.enrollment=t.data.enrollment,e.prices=t.data.prices,e.currentPriceId=t.data.currentPriceId||null,t.data.config&&(e.config=t.data.config),In.assignAverageBill(this,e)},initConfig:function(e,t){e.config.withBillScan=t.withBillScan,e.config.isEnterprise=t.isEnterprise,e.config.showGeoMessage=t.showGeoMessage,e.config.demoMode=t.demoMode,e.config.showGreetings=t.showGreetings,e.config.authKey=t.authKey,e.config.embeddedToMsc=t.embeddedToMsc,e.config.quoteUid=t.quoteUid,e.config.identifier=t.identifier,e.config.showCardView=t.showCardView,e.config.showGridView=t.showGridView,e.config.defaultView=t.defaultView,e.config.priceSummary=t.priceSummary,e.config.savingsChart=t.savingsChart,e.config.information=t.information,e.showPriceSummary=t.showPriceSummary&&t.priceSummary,e.showSavingsChart=t.showSavingsChart&&t.savingsChart,e.showSupplierInformation=t.showInformation&&t.information,e.permissions=t.permissions},setIsGridViewAvailable:function(e,t){e.isGridViewAvailable=t},setFromProposalTrue:function(e){e.config.fromProposal=!0},resetProposalJourneyStartOver:function(e){e.config.fromProposal=!1,e.prices.prices=[]},setAgentName:function(e,t){e.agentName=t},setDefaultFilter:function(e,t){e.prices.filterApplied=t},updateCustomerInfoFromScanBill:function(e,t){e.enrollment.enrollmentModel.Customer=Object(o["a"])({},kn["a"].fromScanBillResponse(t))},updateCommodityFromScanBill:function(e,t){t.commodity&&(e.prices.currentCommodity=t.commodity)},updateUtilityFromScanBill:function(e,t){"Con Edison"===t.bill_type&&e.prices.searchParams.forEach((function(e){e.UtilityId=15}))},updateZipFromScanBill:function(e,t){t.zip&&(e.prices.zip=t.zip)},showLoading:function(e,t){if(t){var r=t.transparent,n=t.htmlText;e.transparentLoader=void 0===r||r,e.loaderHtmlText=void 0===n?"":n}else e.transparentLoader=!0,e.loaderHtmlText="";e.appLoading=!0},hideLoading:function(e){e.appLoading=!1,e.initial=!1,e.transparentLoader=!0,e.loaderHtmlText=""},showAlert:function(e,t){var r=t.title,n=t.type,i=t.closable;["success","warning","info","error"].includes(n)||(n="info"),[!0,!1].includes(i)||(i=!0),e.alert={title:r,type:n,closable:i}},removeAlert:function(e){e.alert=Object(o["a"])(Object(o["a"])({},e.alert),{},{title:null})},toggleCardView:function(e,t){e.isCardView=void 0!==t?t:!e.isCardView}},actions:{saveViewSetting:function(e){var r=e.commit;r("toggleCardView"),Cn["a"].userSettings.saveConfig({cardView:this.state.isCardView?1:0},"PriceView",t.$device)},loadPriceView:function(e){var r=e.commit;Cn["a"].userSettings.getConfig("PriceView",t.$device).then((function(e){"cardView"in e&&r("toggleCardView",Boolean(e.cardView))}))},processBillScan:function(e,t){var r=e.commit,n=e.dispatch;r("showLoading",{transparent:!0,htmlText:"Trying out our intelligence <br> to process your bill"}),Cn["a"].billScan.scan(t).then((function(e){r("hideLoading"),e.success?(n("updateDataFromScanBill",e.data),n("showMessage",{type:"success",message:"Bill Scan Processed successfully"})):n("showMessage",{type:"warning",message:Mr["g"].getMessageByCode(e.code)})}))},updateDataFromScanBill:function(e,t){var r=e.commit,n=e.dispatch;r("updateCustomerInfoFromScanBill",t),r("updateCommodityFromScanBill",t),r("updateUtilityFromScanBill",t),r("updateZipFromScanBill",t),n("prices/getPricesByParams")},setCurrentUtilityById:function(e,t){var r=e.commit;Cn["a"].common.getUtility(t).then((function(e){r("setCurrentUtility",e)}))},loadState:function(e,t){var r=e.commit,n=e.state,i=e.getters;r("showLoading",{transparent:!0,htmlText:"Loading data..."}),Cn["a"].common.loadState(t).then((function(e){if(r("loadState",e.data),r("setCurrentUtility",e.data.data.currentUtilityObject),r("hideLoading"),n.currentPriceId){var t=i["enrollment/priceById"](n.currentPriceId);t.IsExpired?window.document.location.href="#/":window.document.location.href=e.data.link}else window.document.location.href=e.data.link}))},showStepErrorMessage:function(e){var t=e.dispatch,r=(new Date).getTime();ci<r-3e3&&(t("showMessage",{type:"error",message:"Please Fix Fields Marked In Red"}),ci=r)},showMessage:function(e,t){var r=t.message,n=t.type;["success","warning","info","error"].includes(n)||(n="info"),s()({message:r,type:n,dangerouslyUseHTMLString:!0})},showNotify:function(e,t){var r=t.message,n=t.type,i=t.position,a=t.title;["success","warning","info","error"].includes(n)||(n="info"),["top-right","top-left","bottom-right","bottom-left"].includes(i)||(i="bottom-right"),_n()({message:r,type:n,position:i,title:a})},loadProposalData:function(e,t){var r=this,n=e.commit,i=e.dispatch,a=e.getters,s=e.state,o=t.proposalLinkUid,c=t.priceId;n("showLoading",{transparent:!0,htmlText:"Loading data..."}),Cn["a"].common.loadProposalData(o,c).then(function(){var e=Object(F["a"])(regeneratorRuntime.mark((function e(t){var o,l,u,d,p,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.error){e.next=4;break}return window.document.location.href="#/",Xr["a"].proposal.finishProposalJourney(),e.abrupt("return");case 4:return o=t.data,n("setFromProposalTrue"),n("setCurrentPriceId",c),n("setCurrentUtility",o.currentUtilityObject),n("prices/loadFromProposalData",o),e.next=11,i("enrollment/initFromQuoteData",o);case 11:return l=a["enrollment/priceById"](s.currentPriceId),e.next=14,i("prices/checkIfRateStillAvailable",{rate:l.Price,term:l.TermId,supplierId:l.SupplierId});case 14:if(u=e.sent,!u){e.next=34;break}if(d=s.enrollment.enrollmentModel.Customer,p=a.utilityObject,f=a["enrollment/utilityNumberFormat"],oi["a"].isValidAccountStep(d,p,f)){e.next=25;break}return r.dispatch("showMessage",{type:"error",message:"Please fill all required fields"}),e.next=23,wn(s.config.isEnterprise).push({name:"AccountStep"});case 23:return n("hideLoading"),e.abrupt("return");case 25:if(oi["a"].isValidContactStep(d)){e.next=31;break}return r.dispatch("showMessage",{type:"error",message:"Please fill all required fields"}),e.next=29,wn(s.config.isEnterprise).push({name:"CustomerInfoStep"});case 29:return n("hideLoading"),e.abrupt("return");case 31:i("enrollment/create"),e.next=36;break;case 34:Xr["a"].proposal.finishProposalJourney(),n("showAlert",{title:"Your price has expired. Please contact your Energy Consultant!",type:"warning",closable:!1});case 36:n("hideLoading");case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},loadOfferProposalData:function(e,t){var r=e.commit,n=e.dispatch,i=e.getters,a=e.state,s=t.proposalLinkUid,o=t.priceOfferUid;r("showLoading",{transparent:!0,htmlText:"Loading data..."}),Cn["a"].common.loadOfferProposalData(s,o).then(function(){var e=Object(F["a"])(regeneratorRuntime.mark((function e(t){var s,c,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.error){e.next=4;break}return window.document.location.href="#/",Xr["a"].offerProposal.finishProposalJourney(),e.abrupt("return");case 4:return c=t.data,r("setFromProposalTrue"),r("setCurrentPriceId",(null===(s=c.price)||void 0===s?void 0:s.price_id)||o),r("setCurrentUtility",c.currentUtilityObject),r("prices/loadFromOfferProposalData",c),e.next=11,n("enrollment/initFromOfferProposalData",c);case 11:return l=i["enrollment/priceById"](a.currentPriceId),e.next=14,n("prices/checkIfRateStillAvailable",{rate:l.Price,term:l.TermId,supplierId:l.SupplierId});case 14:u=e.sent,u?n("enrollment/create"):(Xr["a"].offerProposal.finishProposalJourney(),r("showAlert",{title:"Your price has expired. Please contact your Energy Consultant!",type:"warning",closable:!1})),r("hideLoading");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}})}r("c1c3");var ui=function(){function e(){Object(Ht["a"])(this,e)}return Object(Kt["a"])(e,[{key:"install",value:function(e,t){e.prototype.$api=Cn["a"]}}]),e}(),di=function(){function e(t){var r,n,i;Object(Ht["a"])(this,e),this.bfEnabled=null===(r=t.permissions)||void 0===r?void 0:r.bfEnabled,this.bfIsDropdown=null===(n=t.permissions)||void 0===n?void 0:n.bfIsDropdown,this.overrideRor=null===(i=t.permissions)||void 0===i?void 0:i.overrideRor}return Object(Kt["a"])(e,[{key:"install",value:function(e,t){e.prototype.$permission=this}},{key:"isBfEnabled",value:function(){return this.bfEnabled}},{key:"isBfDropdown",value:function(){return!!this.isBfEnabled()&&this.bfIsDropdown}},{key:"canOverrideRor",value:function(){return this.overrideRor}}]),e}(),pi=(r("e960"),r("b35b")),fi=r.n(pi),mi=(r("eca7"),r("3787")),hi=r.n(mi),gi=(r("425f"),r("4105")),vi=r.n(gi),bi=(r("fd71"),r("a447")),wi=r.n(bi),yi=(r("be4f"),r("896a")),_i=r.n(yi),Ci=(r("fe07"),r("6ac5")),xi=r.n(Ci),ki=(r("b5d8"),r("f494")),Si=r.n(ki),Pi=(r("016f"),r("486c")),ji=r.n(Pi),Oi=(r("6611"),r("e772")),Ii=r.n(Oi),Fi=(r("1f1a"),r("4e4b")),Ti=r.n(Fi),Ai=(r("10cb"),r("f3ad")),Bi=r.n(Ai),$i=(r("a7cc"),r("df33")),Mi=r.n($i),Ei=(r("826b"),r("c263")),Di=r.n(Ei),Ri=(r("560b"),r("dcdc")),Ui=r.n(Ri),Ni=(r("1951"),r("eedf")),zi=r.n(Ni),Li=(r("3db2"),r("58b8")),Vi=r.n(Li),qi=(r("915d"),r("e04d")),Gi=r.n(qi),Hi=r("b2d6"),Ki=r.n(Hi),Ji=r("4897"),Zi=r.n(Ji);r("25a9");Zi.a.use(Ki.a),c["default"].use(Gi.a),c["default"].use(Vi.a),c["default"].use(zi.a),c["default"].use(Ui.a),c["default"].use(Di.a),c["default"].use(Mi.a),c["default"].use(Bi.a),c["default"].use(Ti.a),c["default"].use(Ii.a),c["default"].use(ji.a),c["default"].use(Si.a),c["default"].use(xi.a),c["default"].use(_i.a),c["default"].use(wi.a),c["default"].use(vi.a),c["default"].use(hi.a),c["default"].use(fi.a);var Wi=r("0086"),Qi=r.n(Wi);c["default"].use(Qi.a),c["default"].directive("mask",u["a"]);var Yi=new Date,Xi=document.getElementById("app"),ea=Xi.dataset,ta=ea.apiKey,ra=ea.authKey,na=ea.demoMode,ia=ea.showGreetings,aa=ea.identifier,sa=ea.widgetType,oa=ea.embeddedToMsc,ca=ea.quoteUid,la=ea.config,ua=r("bc3a").default,da=p.a.randomBytes(16).toString("hex");f["a"].initLogger(ta,ra);var pa="".concat(l["e"],"v2/authorize/widget-app"),fa={api_key:ta,authKey:ra,request_id:"_".concat(p.a.randomBytes(16).toString("hex")),widgetType:sa,widgetKeyId:window.widgetKeyConfig.widgetKeyId,widgetKey:window.widgetKeyConfig.key,sessionId:da,embeddedToMsc:void 0!==oa?"1":void 0,demoMode:na,config:la,client:"dtc-app",client_url:window.location.href};ua.get(pa,{params:fa}).then((function(e){var t=e.data.token,r=e.data.refreshToken;fa.response=e,Object(Cn["b"])({apiKey:ta,authKey:ra,jwt:t,widgetType:sa,refreshToken:r,sessionId:da,embeddedToMsc:fa.embeddedToMsc});var n=t.split("."),i=JSON.parse(atob(n[1]));la&&!oa&&(i.config=Object(o["a"])(Object(o["a"])({},i.config),JSON.parse(la))),c["default"].use(new ui),c["default"].use(new ri),c["default"].use(new di(i)),c["default"].config.productionTip=!1,Yn.createPlugin({jwtPayload:i,demoMode:na,showGreetings:ia,authKey:ra,embeddedToMsc:oa,quoteUid:ca,identifier:aa}),new c["default"]({router:wn(void 0!==oa),store:li(),render:function(e){return e(P)}}).$mount("#app")})).catch((function(e){var t=new Date;try{fa.initDate=Yi.toUTCString(),fa.errorDate=t.toUTCString()}catch(r){console.error(r)}f["a"].sendErrorLog(e,{url:pa,params:fa}),s()({message:"The application could not be started. Authorization Server Error",type:"error",duration:0})}))},"588b":function(e,t,r){"use strict";var n=r("bc3a"),i=r.n(n),a=r("db49"),s="OXXxpfdG6Z";t["a"]={initLogger:function(e,t){this.apiKey=e,this.authKey=t},sendErrorLog:function(e,t){var r={};e.request&&(r.status=e.request.status,r.statusText=e.request.statusText,r.timeout=e.request.timeout);var n=Error().stack;i.a.post("".concat(a["e"],"v2/js-widget-logger/log-error"),{error:{app:"dtc-app",message:e.message,response:e.response,trace:n,request:r,extra:t}},{params:{api_key:this.apiKey,authKey:this.authKey,"logger-key":s}})}}},"5b3d":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"theme__form-item tw-relative",class:{error:e.warning}},[r("div",{staticClass:"el-input tw-w-full",class:{"not-empty":e.notEmpty,focus:e.inFocus}},[r("IMaskComponent",{ref:"input",staticClass:"el-input__inner",attrs:{placeholder:" ",value:e.value,mask:e.safeMask,lazy:e.lazy,disabled:e.disabled,readonly:e.readonly,definitions:e.definitions,"placeholder-char":e.placeholderChar},on:{focus:e.onFocus,blur:function(t){e.inFocus=!1},accept:e.onAccept,complete:e.onComplete}})],1),r("label",{staticClass:"tw-text-sm"},[e._v(e._s(e.label)),e.asterisk?r("span",{staticClass:"asterisk"},[e._v("*")]):e._e()]),Array.isArray(e.hint)?r("div",{staticClass:"hint"},e._l(e.hint,(function(t,n){return r("div",{key:n,class:t.class||""},[e._v(e._s(t.hint||t))])})),0):r("div",{staticClass:"hint",domProps:{innerHTML:e._s(e.hint)}})])},i=[],a=(r("ac1f"),r("5319"),r("4d63"),r("25f0"),r("3f1c")),s=r("625e"),o={name:"MaskedInput",mixins:[s["a"]],mounted:function(){var e=this;this.$refs.input.$el.onclick=function(t){e.$emit("click",t)}},components:{IMaskComponent:a["a"]},props:{mask:{type:String,default:""},prefix:{type:String,default:""},hint:{type:[String,Array],default:""},placeholderChar:{type:String,default:"_"},lazy:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},warning:{type:Boolean,default:!1},asterisk:{type:Boolean,default:!1}},data:function(){return{definitions:{X:/[0-9]/,"*":/[0-9A-Za-z]/},inFocus:!1}},computed:{safeMask:function(){return 0===this.mask.length?/^\w+$/:this.prefix+this.mask.replace(/0/g,"\\0").replace(/a/g,"\\a")}},methods:{onFocus:function(e){this.inFocus=!0,this.$emit("focus",e)},onAccept:function(e){var t=this.cleanPrefix(e);t!==this.value&&this.$emit("input",t)},onComplete:function(e){this.$emit("complete",this.cleanPrefix(e))},cleanPrefix:function(e){if(!this.prefix)return e;var t=new RegExp("\\".concat(this.prefix),"g");return e.replace(t,"")}}},c=o,l=(r("ab84"),r("2877")),u=Object(l["a"])(c,n,i,!1,null,"698f4f6d",null);t["a"]=u.exports},"5f8c":function(e,t,r){e.exports=r.p+"img/paper.34763fcd.jpg"},6:function(e,t){},6248:function(e,t,r){},"625e":function(e,t,r){"use strict";r("a9e3");t["a"]={props:{value:{type:[String,Number],default:null},label:{type:String,required:!0}},computed:{notEmpty:function(){return void 0!==this.value&&null!==this.value&&""!==this.value}}}},6585:function(e,t,r){e.exports=r.p+"img/fish.fe5c1132.jpg"},6685:function(e,t,r){"use strict";r("2138")},"66a7":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("5530"),i=r("d4ec"),a=r("bee2"),s=r("262e"),o=r("2caf"),c=r("9242"),l=function(e){Object(s["a"])(r,e);var t=Object(o["a"])(r);function r(){return Object(i["a"])(this,r),t.apply(this,arguments)}return Object(a["a"])(r,[{key:"config",value:function(){return{Address1:{type:String,default:"",serverField:"address_1"},Address2:{type:String,default:"",serverField:"address_2"},City:{type:String,default:"",serverField:"city"},State:{type:String,default:"",serverField:"state"},ZipCode:{type:String,default:"",serverField:"zip"},Text:{type:String,default:"",skipServer:!0},StreetNumber:{type:String,skipServer:!0},StreetName:{type:String,skipServer:!0},IsManual:{type:Boolean,skipServer:!0,default:!1}}}}],[{key:"fromGooglePlaces",value:function(e){return Object(n["a"])({},e)}}]),r}(c["a"])},6855:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"theme__form-item"},[r("div",{staticClass:"el-input tw-w-full",class:{"not-empty":e.notEmpty,focus:e.inFocus,"is-disabled":e.disabled}},[r("currency-input",{staticClass:"el-input__inner",attrs:{value:e.value,currency:null,precision:0,disabled:e.disabled,"auto-decimal-mode":!0,"distraction-free":!1},on:{focus:function(t){e.inFocus=!0},blur:function(t){e.inFocus=!1},input:function(t){return e.$emit("input",t)},change:function(t){return e.$emit("change",t)}}})],1),r("label",{staticClass:"tw-text-sm"},[e._v(e._s(e.label))])])},i=[],a=r("2b0e"),s=r("d413"),o=r("625e");a["default"].use(s["a"]);var c={name:"CurrencyTextBox",mixins:[o["a"]],data:function(){return{inFocus:!1}},props:{disabled:{type:Boolean,default:!1}}},l=c,u=(r("ddf9"),r("2877")),d=Object(u["a"])(l,n,i,!1,null,"3fe976e4",null);t["a"]=d.exports},6908:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.supportSharing?[e.isSupportNavigator?r("ShareButton"):r("SaveStateButton")]:e._e(),e.isMobile&&e.isFilterableView?r("button",{staticClass:"theme__primary-fab",on:{click:e.openFilter}},[r("FilterIcon",{staticClass:"__icon tw-mx-auto"})],1):e._e()],2)},i=[],a=r("5530"),s=(r("caad"),r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"save-state-btn theme__primary-fab tw-mb-1",on:{click:e.onSaveClick}},[r("save-icon",{staticClass:"__icon tw-mx-auto"})],1)}),o=[],c=(r("9e1f"),r("450d"),r("6ed5")),l=r.n(c),u=r("5935"),d=r("b444"),p=r("db49"),f=r("1da1"),m=(r("96cf"),r("d3b7"),r("99af"),r("9b4c")),h={sendEmailWithLink:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){var n,i,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.state,i=e.email,a=n.config.embeddedToMsc,s=t._prepareData({state:n}),r.abrupt("return",new Promise((function(e,t){m["a"].common.mailState({data:s,link:a?p["d"]:window.document.location.href,email:i}).then((function(r){var n;null!==r&&void 0!==r&&null!==(n=r.result)&&void 0!==n&&n.id?e(r.result.id):t()}))})));case 4:case"end":return r.stop()}}),r)})))()},getShareLink:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.state,r.next=3,t._saveState({state:n}).then((function(e){return e}));case 3:return i=r.sent,r.abrupt("return",new Promise((function(e,t){var r=n.config,a=r.embeddedToMsc,s=r.authKey;a?m["a"].common.getPromoCode({authKey:s}).then((function(r){null!==r&&void 0!==r&&r.promoCode?e("".concat(p["d"],"?promo-code=").concat(r.promoCode,"#/load-data/").concat(i)):t()})):e("".concat(window.location.href.substr(0,window.location.href.indexOf("#")),"#/load-data/").concat(i))})));case 5:case"end":return r.stop()}}),r)})))()},_prepareData:function(e){var t=e.state,r=t.config,n=r.embeddedToMsc,i=r.authKey;return{currentPriceId:t.currentPriceId,currentUtilityObject:t.currentUtilityObject,prices:Object(a["a"])({},t.prices),enrollment:Object(a["a"])({},t.enrollment),authKey:n?i:void 0,shareToMsc:n?"1":void 0,config:Object(a["a"])({},t.config)}},_saveState:function(e){var t=e.state,r=t.config.embeddedToMsc,n=this._prepareData({state:t});return new Promise((function(e,t){m["a"].common.saveState({data:n,link:r?p["d"]:window.document.location.href}).then((function(r){var n;null!==r&&void 0!==r&&null!==(n=r.result)&&void 0!==n&&n.id?e(r.result.id):t()}))}))}},g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 407.096 407.096",fill:"none",stroke:"currentColor"}},[r("path",{attrs:{fill:"currentColor",d:"M402.115,84.008L323.088,4.981C319.899,1.792,315.574,0,311.063,0H17.005C7.613,0,0,7.614,0,17.005v373.086 c0,9.392,7.613,17.005,17.005,17.005h373.086c9.392,0,17.005-7.613,17.005-17.005V96.032 C407.096,91.523,405.305,87.197,402.115,84.008z M300.664,163.567H67.129V38.862h233.535V163.567z"}}),r("path",{attrs:{fill:"currentColor",d:"M214.051,148.16h43.08c3.131,0,5.668-2.538,5.668-5.669V59.584c0-3.13-2.537-5.668-5.668-5.668h-43.08 c-3.131,0-5.668,2.538-5.668,5.668v82.907C208.383,145.622,210.92,148.16,214.051,148.16z"}})])},v=[],b={name:"SaveIcon"},w=b,y=r("2877"),_=Object(y["a"])(w,g,v,!1,null,null,null),C=_.exports,x={components:{SaveIcon:C},name:"SaveStateButton",computed:Object(a["a"])({},Object(u["c"])(["enrollment","prices","currentUtilityObject","currentPriceId"])),methods:{onSaveClick:function(){var e=this;l.a.prompt(d["f"],"Send link",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputPattern:p["b"],inputErrorMessage:"Invalid Email",customClass:"msc"}).then((function(t){var r=t.value;h.sendEmailWithLink({state:e.$store.state,email:r}).then((function(){e.$store.dispatch("showMessage",{type:"success",message:"The link was successfully sent"})}))}))}}},k=x,S=(r("4d9a"),Object(y["a"])(k,s,o,!1,null,null,null)),P=S.exports,j=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"theme__primary-fab tw-mb-1",on:{click:e.onShareClick}},[r("ShareIcon",{staticClass:"__icon tw-mx-auto"})],1)},O=[],I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{staticClass:"svg-inline--fa fa-share-alt fa-w-14",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"share-alt",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[r("path",{attrs:{fill:"currentColor",d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"}})])},F=[],T={name:"ShareIcon"},A=T,B=Object(y["a"])(A,I,F,!1,null,"d43da040",null),$=B.exports,M={name:"ShareButton",components:{ShareIcon:$},computed:{isSupportNavigatorShare:function(){return!!window.navigator&&!!window.navigator.share},commodity:function(){var e=this.$store.state.prices.currentCommodity;return"E"===e?"Electric":"Gas"}},methods:{onShareClick:function(){var e=this;try{this.$store.commit("showLoading"),h.getShareLink({state:this.$store.state}).then((function(t){if(e.$store.commit("hideLoading"),e.isSupportNavigatorShare){var r={title:"",text:"",url:t};navigator.share(r).then((function(){e.$store.dispatch("showNotify",{title:"Link Copied",message:"Click on this link to view ".concat(e.commodity," rates customized for you. Select Signup for any rates to quickly and efficiently contract that rate."),type:"success"})})).catch((function(){}))}else e.copyTextToClipboard(t),e.$store.dispatch("showNotify",{title:"Link Copied",message:"Click on this link to view ".concat(e.commodity," rates customized for you. Select Signup for any rates to quickly and efficiently contract that rate."),type:"success"})}))}catch(t){}},copyTextToClipboard:function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),t.remove()}}},E=M,D=Object(y["a"])(E,j,O,!1,null,"dec0a3dc",null),R=D.exports,U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[r("path",{attrs:{"fill-rule":"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule":"evenodd"}})])},N=[],z={name:"FilterIcon"},L=z,V=Object(y["a"])(L,U,N,!1,null,"7bb072fc",null),q=V.exports,G={name:"Toolbar",components:{ShareButton:R,SaveStateButton:P,FilterIcon:q},computed:Object(a["a"])(Object(a["a"])({isMobile:function(){return this.$isMobile||this.$isWideMobile||this.$isTablet}},Object(u["c"])(["isFilterOpen"])),{},{isSupportNavigator:function(){return!!window.navigator&&!!window.navigator.share},isFilterableView:function(){return["Home"].includes(this.$route.name)},quoteUid:function(){return this.$store.state.config.quoteUid},isFromQuote:function(){return!!this.quoteUid},isFromProposal:function(){return this.$store.state.config.fromProposal},supportSharing:function(){return!this.$store.state.config.embeddedToMsc&&!this.isFromQuote&&!this.isFromProposal}}),methods:{openFilter:function(){this.isFilterOpen=!this.isFilterOpen}}},H=G,K=Object(y["a"])(H,n,i,!1,null,null,null);t["a"]=K.exports},7:function(e,t){},7142:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.hasRecommendation,expression:"hasRecommendation"}],staticClass:"tw-grid tw-grid-cols-1 tw-gap-4"},[r("h3",{staticClass:"__price-section-title tw-text-xl tw-text-center"},[e._v(" "+e._s(e.title)+" ")]),r("div",{staticClass:"xl:tw-hidden swiper-container"},[r("div",{staticClass:"swiper-wrapper",style:{"justify-content":e.$isWideMobile||e.$isTablet?"center":""}},e._l(e.recommendedPrices,(function(t,n){return r("div",{key:n,staticClass:"swiper-slide"},[r("PriceCardPortrait",{attrs:{price:t,badge:n},on:{"take-price":function(t){return e.$emit("take-price",t)}}})],1)})),0)]),r("div",{staticClass:"tw-hidden xl:tw-grid tw-gap-4",class:{"tw-grid-cols-4":4===e.recommendedPricesAmount,"tw-grid-cols-3 tw-mx-auto":3===e.recommendedPricesAmount,"tw-grid-cols-2 tw-mx-auto":2===e.recommendedPricesAmount,"tw-grid-cols-1 tw-mx-auto":1===e.recommendedPricesAmount}},e._l(e.recommendedPrices,(function(t,n){return r("PriceCardPortrait",{key:n,staticClass:"tw-w-72",attrs:{price:t,badge:n},on:{"take-price":function(t){return e.$emit("take-price",t)}}})})),1)])},i=[],a=(r("d81d"),r("159b"),r("7db0"),r("07ac"),r("b64b"),r("caad"),r("2532"),r("bc80")),s=r("f2d3"),o=r("6d3b"),c=(r("bbe3"),r("dab6")),l={name:"RecommendedPrices",components:{PriceCardPortrait:a["a"]},props:{title:{type:String,required:!0},priceFilters:{type:Object,default:function(){return{}}}},data:function(){return{swiper:null}},watch:{recommendedPricesAmount:function(){this.swiperFactory(this.isCentered,this.isCentered?1:0),this.swiper&&setTimeout(this.swiperUpdate,100)}},computed:{isEnterprise:function(){return this.$store.state.config.isEnterprise},prices:function(){return this.$store.state.prices.prices.map((function(e){return Object.assign(new c["a"]({}),e)}))},recommendedPrices:function(){var e=this,t={};return this.$store.getters["prices/recommendedPrices"].forEach((function(r){var n=r.PriceIds[0],i=e.prices.find((function(e){return e.PriceId===n}));i&&e.isVisible(i)&&(t[r.Title]=i)})),t},recommendedPricesAmount:function(){return Object.values(this.recommendedPrices).length},hasRecommendation:function(){return this.recommendedPricesAmount>0},isCentered:function(){var e=(this.$isMobile||this.$isWideMobile||this.$isTablet)&&1===this.recommendedPricesAmount&&3===this.recommendedPricesAmount;return e}},methods:{getBadgeTitle:function(e){return s["a"].label(e)},isVisible:function(e){if(0===this.priceFilters.length)return!0;for(var t=!0,r=Object.keys(this.priceFilters),n=0;n<r.length;n++){var i=r[n];if(t=this.priceFilters[i].includes("".concat(e[i]))||this.priceFilters[i].includes(e[i]),!t)break}return t},swiperFactory:function(e,t){this.swiper=new o["a"](".swiper-container",{slidesPerView:"auto",centeredSlides:e,initialSlide:t})},swiperUpdate:function(){this.swiper.update()}},mounted:function(){this.swiperFactory(this.isCentered,this.isCentered?1:0)}},u=l,d=(r("7276"),r("2877")),p=Object(d["a"])(u,n,i,!1,null,"c7c19df0",null);t["a"]=p.exports},7276:function(e,t,r){"use strict";r("406f")},7367:function(e,t,r){},7471:function(e,t,r){},"7e75":function(e,t,r){},8:function(e,t){},"813c":function(e,t,r){},"8a7c":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("d4ec"),i=r("bee2"),a=r("262e"),s=r("2caf"),o=r("9242"),c=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"config",value:function(){return{EnrollmentType:{serverField:"enrollment_type",default:"standard",prepareServer:function(e){return e.toUpperCase()}},EnrollmentDate:{serverField:"enrollment_date",default:""}}}}],[{key:"getTypes",value:function(){return[{value:"standard",text:"Standard Switch"},{value:"self_selected",text:"Self-Selected Switch Date"},{value:"move_in",text:"Move-In"},{value:"priority_move_in",text:"Priority Move-In"}]}}]),r}(o["a"])},"8ae6":function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("d4ec"),i=r("bee2"),a=r("262e"),s=r("2caf"),o=(r("a9e3"),r("9242")),c=r("66a7"),l=r("8a7c"),u=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"config",value:function(){return{instructions:{default:{ifExists:"AssociateAndOverwrite"}},AccountNumber:{default:"",serverField:"account_number"},AnnualVolume:{default:0,type:Number,serverField:"annual_volume"},Commodity:{default:"",serverField:"commodity"},EnrollmentDetails:{default:null,type:l["a"],serverField:"enrollment_details"},NameKey:{serverField:"name_key"},RateClassCode:{serverField:"rate_class_code",type:String,default:null},ServiceAddress:{serverField:"service_address",type:c["a"]},ServiceAddressText:{type:String,skipServer:!0,serverField:"service_address_text"},ServiceAgreementId:{serverField:"service_agreement_id"},SubTypeTitle:{serverField:"sub_type_title",type:String,default:null},UtilityCode:{type:String,serverField:"utility_code"},ZoneCode:{serverField:"zone_code",type:String,default:null}}}}]),r}(o["a"])},"8f46":function(e,t,r){"use strict";r("e023")},"8f66":function(e,t,r){},9:function(e,t){},"905f":function(e,t,r){"use strict";r("0545")},9242:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("d4ec"),i=r("bee2"),a=(r("caad"),function(){function e(){Object(n["a"])(this,e)}return Object(i["a"])(e,[{key:"config",value:function(){return{}}}],[{key:"getConfig",value:function(){return this.prototype.config()}},{key:"isBaseModel",value:function(e){return e.prototype.__proto__===this.prototype.__proto__}},{key:"_prepareValue",value:function(e,t,r,n){var i=this;if(null===t)return Object.prototype.hasOwnProperty.call(r,"default")?r.default:null;if(!r.type&&!r.listOfType)return t;if(r.type&&r.listOfType)throw Error("Property ".concat(e," should contain only one of parameters (type or listOfType)"));var a=function(e,t,r){return i.isBaseModel(e)?e[t](r):e(r)};if(r.type)return a(r.type,n,t);for(var s=[],o=0;o<t.length;o++)s.push(a(r.listOfType,n,t[o]));return s}},{key:"toServer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getConfig(),r={};for(var n in t){var i=t[n];if(!i.skipServer){var a=i.serverField||n,s=[void 0,""].includes(e[n])?null:e[n];i.prepareServer?r[a]=i.prepareServer(s):r[a]=this._prepareValue(n,s,i,"toServer")}}return r}},{key:"fromServer",value:function(e){e||(e={});var t=this.getConfig(),r={};for(var n in t){var i=t[n],a=i.serverField||n,s=[void 0,""].includes(e[a])?null:e[a];r[n]=this._prepareValue(n,s,i,"fromServer")}return r}},{key:"label",value:function(e){var t=this.getConfig();return t[e]&&t[e].label?t[e].label:e}},{key:"labels",value:function(){var e=this.getConfig(),t={};for(var r in e)t[r]=e[r].label||r;return t}},{key:"default",value:function(){var e={},t=this.getConfig();for(var r in t){var n=t[r];Object.prototype.hasOwnProperty.call(n,"default")?e[r]=n.default:n.type&&this.isBaseModel(n.type)?e[r]=n.type.default():e[r]=null}return e}}]),e}())},"9a13":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("d4ec"),i=r("bee2"),a=r("262e"),s=r("2caf"),o=r("9242"),c=function(e){Object(a["a"])(r,e);var t=Object(s["a"])(r);function r(){return Object(n["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"config",value:function(){return{FileName:{skipServer:!0,type:String,default:""},DocumentUid:{type:String,default:"",serverField:"document_uid"},DocumentType:{type:String,default:"",serverField:"document_type"}}}}]),r}(o["a"])},"9b4c":function(e,t,r){"use strict";r.d(t,"b",(function(){return ne})),r.d(t,"a",(function(){return re}));var n,i,a,s,o,c,l,u,d,p=r("1da1"),f=r("d4ec"),m=r("bee2"),h=(r("96cf"),r("d3b7"),r("25f0"),r("db49")),g=r("1c46"),v=r.n(g),b=r("bc3a").default,w=function(){function e(t,r){var n=t.apiKey,i=t.jwt;if(Object(f["a"])(this,e),e.instance)return e.instance;this.apiKey=n,this.jwt=i,this.client="dtc-app",this.getNewJwt=r;var a=b.create({baseURL:h["e"]});return a.interceptors.request.use(this.beforeRequestInterceptors()),a.interceptors.response.use((function(e){return e}),this.errorHandler()),e.instance=a,e.instance}return Object(m["a"])(e,[{key:"beforeRequestInterceptors",value:function(){var e=this;return function(t){var r=t.params||{};return e.assignRequiredParams(r),t.params=r,t.headers.Authorization="Bearer ".concat(e.jwt),t}}},{key:"assignRequiredParams",value:function(e){Object.assign(e,{request_id:this.generateRequestId(),api_key:this.apiKey,client:this.client,client_url:window.location.href})}},{key:"generateRequestId",value:function(){return"_".concat(v.a.randomBytes(16).toString("hex"))}},{key:"errorHandler",value:function(){var t=this;return function(){var r=Object(p["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(401!==n.response.status){r.next=4;break}return r.next=3,t.getNewJwt().then((function(e){t.jwt=e}));case 3:return r.abrupt("return",e.instance.request(n.config));case 4:return r.abrupt("return",Promise.reject(n));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}]),e}(),y=r("bc3a").default,_=function e(){return Object(f["a"])(this,e),e.instance||(e.instance=y.create({baseURL:h["a"]})),e.instance},C=r("588b"),x=r("bc3a").default,k=null,S=!1,P=function(){function e(t){Object(f["a"])(this,e);var r=t.apiKey,n=t.authKey,i=t.jwt,a=t.widgetType,s=t.refreshToken,o=t.sessionId;this.apiKey=r,this.authKey=n,this.jwt=i,this.widgetType=a,this.refreshToken=s,this.sessionId=o,this.client=x.create({baseURL:h["e"]}),this.client.interceptors.request.use(this.beforeRequestInterceptors())}return Object(m["a"])(e,[{key:"beforeRequestInterceptors",value:function(){var e=this;return function(t){var r=t.params||{};return Object.assign(r,{api_key:e.apiKey,authKey:e.authKey,request_id:"_".concat(v.a.randomBytes(16).toString("hex")),widgetType:e.widgetType,refreshToken:e.refreshToken,sessionId:e.sessionId}),t.params=r,t.headers.Authorization="Bearer ".concat(e.jwt),t}}},{key:"getRefreshTokenPromise",value:function(){var e=this;if(!1===S){S=!0;var t="v2/authorize/refresh-widget-app";k=this.client.get(t).then((function(t){var r=t.data.token;return e.jwt=r,e.refreshToken=t.data.refreshToken,S=!1,r})).catch((function(r){var n={url:t,params:{api_key:e.apiKey,authKey:e.authKey,jwt:e.jwt,widgetType:e.widgetType,refreshToken:e.refreshToken,sessionId:e.sessionId}};C["a"].sendErrorLog(r,n)}))}return k}}]),e}(),j=r("ade3"),O=r("74ca"),I=r("d634"),F=r("0125"),T=r("0014"),A=r.n(T),B=r("2bf2"),$={watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}},M=function e(t,r){var n=this;if(Object(f["a"])(this,e),Object(j["a"])(this,"headers",{Authorization:null,"api-key":null}),Object(j["a"])(this,"isTokenRefreshing",!1),e.instance)return e.instance;var i=t.apiKey,a=t.jwt;this.headers.Authorization="Bearer ".concat(a),this.headers["api-key"]=i;var s=new B["a"],o=A()({credentials:"same-origin",fetchOptions:{credentials:"same-origin"},uri:h["c"],headers:this.headers,defaultOptions:$}),c=new F["a"]({attempts:function(e,t,i){var a;return 401===(null===i||void 0===i||null===(a=i.result)||void 0===a?void 0:a.status)&&(!1===n.isTokenRefreshing&&(n.isTokenRefreshing=!0,r().then((function(e){n.headers.Authorization="Bearer ".concat(e),n.isTokenRefreshing=!1}))),n.isTokenRefreshing&&e<20)},delay:{initial:300,max:1/0,jitter:!0}});return e.instance=new O["a"]({link:I["a"].from([c,o]),cache:s}),e.instance},E=r("5530"),D=(r("99af"),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=["PriceExpiration","PriceValidation","ExtendedSupplierInformation","DefaultFilters","ContractingOpportunity"],n=t?[].concat(r,["ShowMaxComCapBreak"]):r;return{getPricesByGeo:function(t){var r=this,i=t.lat,a=t.lon,s=t.zip,o=t.startDate,c=t.fromMsc,l=t.identifier,u={};return i&&a&&(u.geo="".concat(i," ").concat(a)),s&&(u.postal_code=s),u.identifier=l,e.get("/v2/prices/by-location",{params:Object(E["a"])(Object(E["a"])({},u),{},{with_savings:1,with_supply_portion:1,expand_utility:1,product_id:"1,9",account_type:"C",start_date:o||null,scope:n,from_msc:c?1:null})}).then((function(e){return{success:!0,data:e.data}})).catch((function(e){return r._errorHandler(e)}))},getPriceByParams:function(t){var r=this,i=t.params,a=t.flatPrice;return e.get("/v2/prices",{params:Object(E["a"])(Object(E["a"])({},i),{},{flat_prices:a?1:0,with_savings:1,with_supply_portion:1,expand_utility:1,product_id:"1,9",account_type:"C",scope:n})}).then((function(e){return{success:!0,data:e.data}})).catch((function(e){return r._errorHandler(e)}))},getValidParams:function(t){var r=this;return e.get("/v2/price-default-param/get-valid",{params:t}).then((function(e){return e.data.result})).catch((function(e){return r._errorHandler(e)}))},loadQuoteData:function(t){var r=this;return e.get("/v2/quote/get-shared-quote",{params:{quoteUid:t}}).then((function(e){return{success:!0,data:e.data}})).catch((function(e){return r._errorHandler(e)}))},_errorHandler:function(e){var t="",r="";return e.response?(t=e.response.data.message,r=e.response.data.code):e.request?(t="The request was made but no response was received",r=0,console.error(e.request)):(t=e.message,r=0,console.error("Error",e.message)),{success:!1,message:t,code:r}}}}),R=(r("159b"),r("d81d"),function(e){return{scan:function(t){var r=new FormData;return r.append("file",t),e.post("/api/v1/bill-scan",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){var t={};return e.data.map((function(e){return e.fetched_data})).forEach((function(e){return Object.assign(t,e)})),{success:!0,data:t}})).catch((function(e){var t,r="";return e.response?(r=e.response.data.message,t=e.response.data.code||0):e.request?(r="The request was made but no response was received",t=5e3,console.error(e.request)):(r=e.message,t=1,console.error("Error",e.message)),{success:!1,message:r,code:t}}))}}}),U=(r("3ca3"),r("ddb0"),r("7db0"),r("4de4"),r("b0c0"),function(e){return{cache:{allUtilities:null,utilitiesByZip:{},zones:{},subTypes:{},rateClasses:{},zips:{},bfRange:{}},getUtilities:function(t){var r,n,i=this;return r=this.cache.allUtilities?new Promise((function(e){return e(i.cache.allUtilities)})):e.get("/v2/utilities",{params:{expand:"state,commodities,searchDefaultParams,utilityNumberFormats,utilityCommodities",per_page:0,sort:"state_code,title"}}).then((function(e){var t=[];return e.data&&e.data.utilities&&(t=e.data.utilities.map((function(e){return{value:e.utility_id,label:e.display_name||e.utility_title,zip:null,commodity:1===e.commodities.length?e.commodities[0].commodity:null,state_code:e.state[0].state_code,searchDefaultParams:e.searchDefaultParams,numberFormats:e.utilityNumberFormats,utilityCommodity:e.utilityCommodities,utility_code:e.utility_code,is_name_key_required:e.is_name_key_required,is_service_agreement_required:e.is_service_agreement_required}}))),i.cache.allUtilities={type:"all",data:t},i.cache.allUtilities})).catch((function(e){return i._errorHandler(e)})),t?(this.cache.utilitiesByZip[t]&&(n=new Promise((function(e){return e(i.cache.utilitiesByZip[t])}))),n=e.get("/v2/zips",{params:{expand:"states.utilities.commodities,states.utilities.searchDefaultParams,states.utilities.utilityNumberFormats,states.utilities.utilityCommodities",per_page:t?0:1,postal_code:t}}).then((function(e){var r=[];return e.data&&e.data.zips&&(e.data.zips.forEach((function(e){e.states.forEach((function(e){e.utilities.forEach((function(t){t.state_code=e.state_code})),r=r.concat(e.utilities)}))})),r=r.map((function(e){return{value:e.utility_id,label:e.display_name||e.utility_title,zip:t,commodity:1===e.commodities.length?e.commodities[0].commodity:null,state_code:e.state_code,searchDefaultParams:e.searchDefaultParams,numberFormats:e.utilityNumberFormats,utilityCommodity:e.utilityCommodities,utility_code:e.utility_code,is_name_key_required:e.is_name_key_required,is_service_agreement_required:e.is_service_agreement_required}}))),i.cache.utilitiesByZip[t]={type:"byZip",data:r},i.cache.utilitiesByZip[t]})).catch((function(e){return i._errorHandler(e)}))):n=new Promise((function(e){return e({type:"byZip",data:[]})})),Promise.all([r,n]).then((function(e){var t=e.find((function(e){return"all"===e.type})).data,r=e.find((function(e){return"byZip"===e.type})).data;return t=t.filter((function(e){return!r.find((function(t){return t.value===e.value}))})),t.concat(r)}))},getZones:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return this.cache.zones["".concat(r,"_").concat(n)]?new Promise((function(e){return e(t.cache.zones["".concat(r,"_").concat(n)])})):e.get("/v2/zones",{params:{expand:"utilities",utility_id:r,commodity:n,per_page:0,sort:"title"}}).then((function(e){var i=[];return e.data&&e.data.zones&&(i=e.data.zones.map((function(e){return{value:e.zone_code,label:e.zone_code}}))),t.cache.zones["".concat(r,"_").concat(n)]=i,t.cache.zones["".concat(r,"_").concat(n)]})).catch((function(e){return t._errorHandler(e)}))},getSubTypes:function(t,r){var n=this;return this.cache.subTypes["".concat(t,"_").concat(r)]?new Promise((function(e){return e(n.cache.subTypes["".concat(t,"_").concat(r)])})):e.get("/v2/sub-type",{params:{expand:"utilities",utility_id:t,commodity:r,per_page:0,sort:"title"}}).then((function(e){var i=[];return e.data&&e.data["sub-types"]&&(i=e.data["sub-types"].map((function(e){return{value:e.sub_type_id,label:e.sub_type_title}}))),n.cache.subTypes["".concat(t,"_").concat(r)]=i,n.cache.subTypes["".concat(t,"_").concat(r)]})).catch((function(e){return n._errorHandler(e)}))},getRateClasses:function(t,r){var n=this;return this.cache.rateClasses["".concat(t,"_").concat(r)]?new Promise((function(e){return e(n.cache.rateClasses["".concat(t,"_").concat(r)])})):e.get("/v2/rate-class",{params:{expand:"utilities",utility_id:t,commodity:r,per_page:0,sort:"rate_class_code"}}).then((function(e){var i=[];return e.data&&e.data["rate-classes"]&&(i=e.data["rate-classes"].map((function(e){return{value:e.rate_class_id,label:e.rate_class_code}}))),n.cache.rateClasses["".concat(t,"_").concat(r)]=i,n.cache.rateClasses["".concat(t,"_").concat(r)]})).catch((function(e){return n._errorHandler(e)}))},getRateClassById:function(t,r,n){var i=this;return this.cache.rateClasses["".concat(t,"_").concat(r)]?new Promise((function(e){return e(i.cache.rateClasses["".concat(t,"_").concat(r)])})):e.get("/v2/rate-class",{params:{expand:"utilities",utility_id:t,commodity:r,rate_class_id:n,per_page:0,sort:"rate_class_code"}}).then((function(e){var n=[];return e.data&&e.data["rate-classes"]&&(n=e.data["rate-classes"].map((function(e){return{value:e.rate_class_id,label:e.rate_class_code}}))),i.cache.rateClasses["".concat(t,"_").concat(r)]=n,i.cache.rateClasses["".concat(t,"_").concat(r)]})).catch((function(e){return i._errorHandler(e)}))},getZips:function(t){var r=this;return this.cache.zips[t]?new Promise((function(e){return e(r.cache.zips[t])})):e.get("/v2/zips",{params:{per_page:30,postal_code_like:t,sort:"code"}}).then((function(e){var n=[];return e.data&&e.data.zips&&(n=e.data.zips.map((function(e){return{value:e.postal_code,label:e.postal_code}}))),r.cache.zips[t]=n,r.cache.zips[t]})).catch((function(e){return r._errorHandler(e)}))},getBfDropdownOptions:function(t){var r=this;return this.cache.bfRange[t]?new Promise((function(e){return e(r.cache.bfRange[t])})):e.get("/v2/bf-range").then((function(e){var n=[];return e.data&&e.data[t]&&(n=e.data[t].map((function(e){return{value:e.value,label:e.name}}))),r.cache.bfRange[t]={options:n,default:e.data["default_".concat(t)]},r.cache.bfRange[t]})).catch((function(e){return r._errorHandler(e)}))},_errorHandler:function(e){var t="";return e.response?t=e.response.data.message:e.request?(t="The request was made but no response was received",console.error(e.request)):(t=e.message,console.error("Error",e.message)),{success:!1,message:t}}}}),N=function(e){return{getUtility:function(t){var r=this,n={utility_id:t,expand:"state,commodities,searchDefaultParams,utilityNumberFormats",per_page:0};return e.get("/v2/utilities",{params:n}).then((function(e){var t=e.data.utilities[0];return{value:t.utility_id,label:t.display_name||t.utility_title,zip:null,commodity:1===t.commodities.length?t.commodities[0].commodity:null,state_code:t.state[0].state_code,searchDefaultParams:t.searchDefaultParams,numberFormats:t.utilityNumberFormats,utility_code:t.utility_code,is_name_key_required:t.is_name_key_required,is_service_agreement_required:t.is_service_agreement_required}})).catch((function(e){return r._errorHandler(e)}))},getUtilityByCode:function(t){var r=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i={utility_code:t,expand:"state,commodities,searchDefaultParams,utilityNumberFormats",per_page:0},n.next=3,e.get("/v2/utilities",{params:i}).then((function(e){var t=e.data.utilities[0];return{value:t.utility_id,label:t.display_name||t.utility_title,zip:null,commodity:1===t.commodities.length?t.commodities[0].commodity:null,state_code:t.state[0].state_code,searchDefaultParams:t.searchDefaultParams,numberFormats:t.utilityNumberFormats,utility_code:t.utility_code,is_name_key_required:t.is_name_key_required,is_service_agreement_required:t.is_service_agreement_required}})).catch((function(e){return r._errorHandler(e)}));case 3:return a=n.sent,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))()},getStates:function(){var t=this;return e.get("/v2/states",{params:{per_page:100}}).then((function(e){return e.data.states})).catch((function(e){return t._errorHandler(e)}))},getCities:function(t){var r=this,n=t;return n.cities_only=1,e.get("/v2/cities",{params:n}).then((function(e){return e.data})).catch((function(e){return r._errorHandler(e)}))},getAddreses:function(t){var r=this,n=t;return e.get("/v2/maps/autocomplete",{params:n}).then((function(e){return e.data})).catch((function(e){return r._errorHandler(e)}))},getAddressDetails:function(t){var r=this;return e.get("/v2/maps/details",{params:{place_id:t}}).then((function(e){return e.data})).catch((function(e){return r._errorHandler(e)}))},loadState:function(t){var r=this;return e.get("/v2/widget",{params:{id:t}}).then((function(e){return e})).catch((function(e){return r._errorHandler(e)}))},saveState:function(t){var r=this;return e.post("/v2/widget/save",t).then((function(e){return e.data})).catch((function(e){return r._errorHandler(e)}))},mailState:function(t){var r=this;return e.post("/v2/widget/mail",t).then((function(e){return e.data})).catch((function(e){return r._errorHandler(e)}))},getPromoCode:function(t){var r=this;return e.get("/v2/widget/get-promo-code",{params:t}).then((function(e){return e.data})).catch((function(e){return r._errorHandler(e)}))},loadProposalData:function(t,r){var n=this;return e.get("/v2/widget/load-from-quote",{params:{proposalLinkUid:t,priceId:r}}).then((function(e){return e.data})).catch((function(e){return n._errorHandler(e)}))},loadOfferProposalData:function(t,r){var n=this;return e.get("/v2/widget/load-from-proposal",{params:{guid:t,priceOfferUid:r}}).then((function(e){return e.data})).catch((function(e){return n._errorHandler(e)}))},_errorHandler:function(e){var t="";return e.response?t=e.response.data.message:e.request?(t="The request was made but no response was received",console.error(e.request)):(t=e.message,console.error("Error",e.message)),{success:!1,message:t}}}},z=r("8785"),L=r("9530"),V=r.n(L),q=V()(n||(n=Object(z["a"])(["\n    mutation enrollmentRequest($input: EnrollmentInput) {\n        enrollmentRequest(input: $input) {\n            contract_uid\n            in_person_sign_url\n            errors {\n                error_message\n                error_code\n                field\n            }\n            envelope_response {\n                is_success\n            }\n        }\n    }\n"]))),G=V()(i||(i=Object(z["a"])(["\n    mutation (\n        $quote_id: String!\n        $offer_id: String!\n        $price_id: String!\n        $contact_id: String!\n        $redirect_url: String!\n        $enrollment_details: EnrollmentDetailsInput\n    ) {\n        generateContract(\n            input: {\n                quote_id: $quote_id\n                offer_id: $offer_id\n                price_id: $price_id\n                contact_id: $contact_id\n                redirect_url: $redirect_url\n                enrollment_details: $enrollment_details\n            }\n        ) {\n            contract_uid\n            customer_uid\n            in_person_sign_url\n            docusign_buttons_config {\n                email\n                in_person\n            }\n            errors {\n                error_code\n                error_message\n                error_type\n                category_type\n                field\n            }\n            envelope_response {\n                is_success\n                response_id\n                request_id\n            }\n        }\n    }\n"]))),H=V()(a||(a=Object(z["a"])(["\n    mutation (\n        $quote_id: String!\n        $offer_id: String!\n        $price_id: String!\n        $contact_id: String!\n        $redirect_url: String!\n        $enrollment_details: EnrollmentDetailsInput\n        $override_ror: Boolean\n    ) {\n        generateContract(\n            input: {\n                quote_id: $quote_id\n                offer_id: $offer_id\n                price_id: $price_id\n                contact_id: $contact_id\n                redirect_url: $redirect_url\n                enrollment_details: $enrollment_details\n                override_ror: $override_ror\n            }\n        ) {\n            contract_uid\n            customer_uid\n            in_person_sign_url\n            docusign_buttons_config {\n                email\n                in_person\n            }\n            errors {\n                error_code\n                error_message\n                error_type\n                category_type\n                field\n            }\n            envelope_response {\n                is_success\n                response_id\n                request_id\n            }\n        }\n    }\n"]))),K=V()(s||(s=Object(z["a"])(["\n    mutation sendContractViaDocuSign($input: SendContractViaDocuSignInput) {\n        sendContractViaDocuSign(input: $input) {\n            envelope_uid\n            errors {\n                error_message\n                error_code\n                field\n            }\n            envelope_response {\n                is_success\n            }\n        }\n    }\n"]))),J=V()(o||(o=Object(z["a"])(["\n    query {\n        customerPositions {\n            items {\n                customer_position_id,\n                customer_position_title\n            }\n        }\n    }"]))),Z=V()(c||(c=Object(z["a"])(["\n    query {\n        businessTypes {\n            items {\n                business_type_id,\n                business_type_title\n            }\n        }\n    }"]))),W=V()(l||(l=Object(z["a"])(["\n    query {\n        businessTypes {\n            items {\n                business_type_id,\n                business_type_title\n            }\n        }\n        customerPositions {\n            items {\n                customer_position_id,\n                customer_position_title\n            }\n        }\n    }"]))),Q=V()(u||(u=Object(z["a"])(["\n    mutation uploadDocument($input: FileInput) {\n        uploadDocument(input: $input) {\n            document_uid\n            errors {\n                error_message\n                error_code\n                field\n            }\n            envelope_response {\n                is_success\n            }\n        }\n    }\n"]))),Y=function(e){return{uploadDocument:function(t){return e.mutate({mutation:Q,variables:{input:t},context:{headers:{"request-id":this._generateRequestId()},hasUpload:!0}}).then((function(e){return e.data}))},create:function(t){return e.mutate({mutation:q,variables:{input:t},context:{headers:{"request-id":this._generateRequestId()}}}).then((function(e){return e.data.enrollmentRequest}))},createFromOffer:function(t){return e.mutate({mutation:H,variables:t,context:{headers:{"request-id":this._generateRequestId()},uri:"".concat(h["c"],"/secured/v1")}}).then((function(e){return e.data.generateContract}))},createFromOfferNoRor:function(t){return e.mutate({mutation:G,variables:t,context:{headers:{"request-id":this._generateRequestId()},uri:"".concat(h["c"],"/secured/v1")}}).then((function(e){return e.data.generateContract}))},getBusinessTypesAndCustomerPositions:function(){return e.query({query:W,context:{headers:{"request-id":this._generateRequestId()}}}).then((function(e){return e.data})).catch((function(e){console.error("BusinessTypesAndCustomerPositions got an error: ",JSON.stringify(e))}))},getCustomerPositions:function(){return e.query({query:J,context:{headers:{"request-id":this._generateRequestId()}}}).then((function(e){return e.data.customerPositions})).catch((function(e){console.error("CustomerPositions got an error: ",JSON.stringify(e))}))},getBusinessTypes:function(){return e.query({query:Z,context:{headers:{"request-id":this._generateRequestId()}}}).then((function(e){return e.data.businessTypes})).catch((function(e){console.error("BusinessTypes got an error: ",JSON.stringify(e))}))},sendViaDocuSign:function(t){return e.mutate({mutation:K,variables:{input:{contract_uid:t}},context:{headers:{"request-id":this._generateRequestId()}}}).then((function(e){return e.data}))},_generateRequestId:function(){return"_".concat(v.a.randomBytes(16).toString("hex"))}}},X=function(e){return{saveConfig:function(t,r,n){return e.post("/v2/user/save-user-js-widget-settings",t,{params:{settingName:r,device:n}}).then((function(e){return e.data}))},getConfig:function(t,r){return e.get("/v2/user/get-user-js-widget-settings",{params:{settingName:t,device:r}}).then((function(e){return e.data}))}}},ee=V()(d||(d=Object(z["a"])(["\n    mutation jsWidgetJourneyTrace($input: JsWidgetJourneyTraceType) {\n        jsWidgetJourneyTrace(input: $input) {\n            journey_guid\n            errors {\n                error_message\n                error_code\n                field\n            }\n            envelope_response {\n                is_success\n            }\n        }\n    }\n"]))),te=function(e){return{trace:function(t){return e.mutate({mutation:ee,variables:{input:t},context:{headers:{"request-id":this._generateRequestId()}}}).then((function(e){return e.data}))},_generateRequestId:function(){return"_".concat(v.a.randomBytes(16).toString("hex"))}}},re={};function ne(e){var t=new P(e),r=function(){return t.getRefreshTokenPromise()},n=new w(e,r),i=new _,a=new M(e,r);re={prices:D(n,e.embeddedToMsc),dropdowns:U(n),common:N(n),billScan:R(i),enrollment:Y(a),userSettings:X(n),journeyTrace:te(a)}}},a3ac:function(e,t,r){"use strict";r("036d")},ab84:function(e,t,r){"use strict";r("f557")},b018:function(e,t,r){"use strict";r("4de4"),r("ac1f"),r("5319"),r("25eb"),r("a9e3");var n=r("db49");t["a"]={isValidAccountStep:function(e,t,r){var n=this;return e.Accounts.length>0&&0===e.Accounts.filter((function(e){return!n.isAccountValid(e,t,r)})).length&&""!==e.BusinessName&&""!==e.BusinessType&&""!==e.StartDate&&null!==e.StartDate},isValidContactStep:function(e){return!!e.CustomerName.FirstName&&!!e.CustomerName.LastName&&!!e.ContactAddress&&!!e.ContactAddress.Address1&&!!e.ContactAddress.City&&!!e.ContactAddress.State&&!!e.ContactAddress.ZipCode&&!!e.CustomerPosition&&n["b"].test(e.Email)&&10===e.Phones[0].PhoneNumber.replace(/[^0-9]/g,"").length},isValidContactInfoStep:function(e){return!!e.CustomerName.FirstName&&!!e.CustomerName.LastName&&!!e.CustomerPosition&&n["b"].test(e.Email)&&10===e.Phones[0].PhoneNumber.replace(/[^0-9]/g,"").length},isAccountValid:function(e,t,r){return(0!==r.length||0!==e.AccountNumber.length)&&(!(r.length>0&&e.AccountNumber.length!==r.length)&&(Number.parseInt(e.AnnualVolume,10)>0&&""===this.getAddressWarning(e.ServiceAddress)&&(!t.IsNameKeyRequired||e.NameKey&&4===e.NameKey.length)))},getAddressWarning:function(e,t){var r="";return e.ZipCode?e.Address1?e.City||(r="City can't be blank"):r="Street Address can't be blank":r="Zip Code can't be blank",""===r?"":t?{class:"error-hint",hint:r}:'<span class="error-hint">'.concat(r,"</span>")}}},b32a:function(e,t,r){"use strict";r("c6b8")},b444:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return o})),r.d(t,"f",(function(){return c})),r.d(t,"g",(function(){return l}));var n="We could not detect your zip code. Please enter your zip code to see the rates in your area.",i="We could not detect your zip code. Please enter your zip code to see the rates in your area.",a="Can't find any prices for your current zip code",s="Can't find any prices",o="For better interaction, please allow Geo Location",c="Save your search now, and come back and look at it on your computer or mobile when you are ready. Enter your email address, and we will send you a link where you can pickup where you left off.",l={4040:"Nothing recognize. Try uploading a better quality image",default:"Bill Scan Fail",getMessageByCode:function(e){return this[e]||this.default}}},b6b5:function(e,t,r){"use strict";r("b680"),r("c35a"),r("a9e3");var n=r("dab6"),i=r("475e"),a=[{src:r("0242"),info:"Get $100 Amazon Gift Card!!"},{src:r("2b7d"),info:"Get 10 cups of Coffee Free!!"},{src:r("6585"),info:"Get Free Lunch!!"},{src:r("5f8c"),info:"Get Free Cases of Paper Towels!!"},{src:r("26d4"),info:"Get Free Sweatshirts!!"}];t["a"]={props:{price:{type:n["a"],default:function(){return new n["a"]({})}}},data:function(){return{index:Math.floor(Math.random()*Math.floor(5))}},computed:{unit:function(){return i["a"].getSuffix(this.price.Commodity)},withOffers:function(){return this.$store.state.config.isEnterprise},annualVolume:function(){return this.$store.getters["prices/usageForCurrentCommodity"]},isExpired:function(){var e=this.price.IsExpired,t=this.$store.state.config.embeddedToMsc;return e&&t}},methods:{onTakePriceClick:function(){this.$emit("take-price",this.price.PriceId)},getExampleImageData:function(){return a[this.index]}},filters:{round:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e?Number.parseFloat(e).toFixed(t):null}}}},bc80:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"__price-card tw-p-4 tw-flex tw-flex-col tw-relative"},[e.badge?[n("div",{staticClass:"__card-badge tw-w-full tw-absolute tw-inset-0 tw-h-8 tw-leading-8 tw-uppercase tw-font-bold"},[e._v(" "+e._s(e.badge)+" ")]),n("div",{staticClass:"tw-h-5 tw-flex-shrink-0"})]:e._e(),e.price.isGreen()?[n("img",{staticStyle:{width:"30px",height:"auto",position:"absolute",top:"5px",right:"5px"},attrs:{src:r("3120")}})]:e._e(),n("div",{staticClass:"__header tw-pb-1"},[n("div",{staticClass:"tw-font-bold"},[e._v(e._s(e.price.Term))]),n("div",{staticClass:"tw-flex tw-flex-row tw-justify-center",class:{"gas-rate-row":e.isGas}},[n("p",{staticClass:"tw-flex-shrink-0 tw-mr-1"},[e._v("Fixed Rate:")]),n("div",{staticClass:"tw-flex-shrink tw-text-right"},[n("span",{staticClass:"__price tw-inline-block tw-text-sm",class:{"tw-line-through":e.isExpired},style:e.isExpired?"cursor: help":"",attrs:{title:e.isExpired?"Price Expired":""}},[e._v("$"+e._s(e.price.Price))]),n("span",{staticClass:"tw-inline-block tw-text-xs"},[e._v("/"+e._s(e.unit))])])])]),n("div",{staticClass:"__logo"},[n("img",{staticClass:"tw-object-contain tw-h-10 tw-mx-auto tw-my-1 tw-max-w-full",attrs:{src:e.price.SupplierLogo,title:e.price.Supplier}})]),n("div",{staticClass:"__savings tw-grid tw-grid-cols-2 tw-justify-items-center tw-pb-1"},[n("div",{staticClass:"tw-col-span-2 tw-mb-1"},[n("p",[e._v(e._s(e.price.savingLabel())),n("span",{staticClass:"tw-ml-2 tw-font-bold"},[e._v(e._s(e._f("round")(e.price.savingValue(),0))+"%")])])]),n("div",{staticClass:"tw-flex tw-flex-col tw-w-full __split-vertical-border"},[n("p",[e._v("Monthly")]),n("span",{staticClass:"tw-text-base tw-font-bold"},[e._v("$"+e._s(e.numberFormat(e.price.monthlySaving(e.annualVolume))))])]),n("div",{staticClass:"tw-flex tw-flex-col tw-w-full"},[n("p",[e._v("Term")]),n("span",{staticClass:"tw-text-base tw-font-bold"},[e._v("$"+e._s(e.numberFormat(e.price.termSaving(e.annualVolume))))])]),n("p",{staticClass:"__new-spend tw-col-span-2 tw-mt-1 tw-text-xs"},[e._v("New Spend: $"+e._s(e.price.newSpend(e.annualVolume))+" /month")])]),e.withOffers?n("div",{staticClass:"__ad tw-h-10 tw-flex tw-flex-row tw-items-center"},[n("div",{staticClass:"tw-w-1/3 tw-h-10 tw-mr-1"},[n("img",{staticClass:"tw-h-10 tw-w-full tw-object-contain",attrs:{src:e.getExampleImageData().src}})]),n("div",{staticClass:"tw-w-2/3 tw-text-left tw-text-xs"},[e._v(" "+e._s(e.getExampleImageData().info)+" ")])]):e._e(),n("div",{staticClass:"tw-h-full"}),n("div",{staticClass:"__price-btn tw-flex-shrink-0 tw-h-6 tw-w-20 tw-mx-auto tw-rounded tw-text-center tw-mt-4 tw-cursor-pointer",on:{click:e.onTakePriceClick}},[e._v(" Sign up ")])],2)},i=[],a=r("b6b5"),s={name:"PriceCardPortrait",mixins:[a["a"]],props:{badge:{type:String,default:null}},computed:{isGas:function(){return"G"===this.$store.state.prices.currentCommodity}},methods:{numberFormat:function(e){return e.toLocaleString("en-US")}}},o=s,c=(r("31ab"),r("2877")),l=Object(c["a"])(o,n,i,!1,null,"3e9d26d6",null);t["a"]=l.exports},c1c3:function(e,t,r){},c466:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("c1df"),i=r.n(n),a="YYYY-MM-DD",s={convertToDB:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?i()(e,t).format(a):null},getCurrentDate:function(){return i()(new Date).format(a)}}},c6b8:function(e,t,r){},cdd3:function(e,t,r){"use strict";r("139c")},d091:function(e,t,r){"use strict";r("7367")},d57e:function(e,t,r){},d690:function(e,t,r){"use strict";r("0b1a")},d6df:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.hasAlert,expression:"hasAlert"}],staticClass:"tw-my-3"},[r("el-alert",{attrs:{title:e.title,closable:e.closable,type:e.type,center:""},on:{close:e.onClose}})],1)},i=[],a={name:"AlertBox",computed:{hasAlert:function(){return!!this.title},title:function(){return this.$store.state.alert.title},closable:function(){return this.$store.state.alert.closable},type:function(){return this.$store.state.alert.type}},methods:{onClose:function(){this.$store.commit("removeAlert")}}},s=a,o=r("2877"),c=Object(o["a"])(s,n,i,!1,null,"2188a88a",null);t["a"]=c.exports},d7d8:function(e,t,r){"use strict";r("f477")},dab6:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("3835"),i=r("5530"),a=r("d4ec"),s=r("bee2");r("25eb"),r("a9e3"),r("caad"),r("c35a"),r("b680"),r("9129"),r("159b"),r("4fad"),r("b64b");function o(e){return"*"===e?null:e}var c=function(){function e(t){Object(a["a"])(this,e),this.PriceId=t.price_id&&Number.parseInt(t.price_id,10)||null,this.AccountType=t.account_type,this.Commodity=t.commodity,this.RateClass=o(t.rate_class_title),this.RateClassId=o(t.rate_class_id)&&Number.parseInt(t.rate_class_id,10)||null,this.StateTitle=t.state_title||null,this.StateCode=t.state_code,this.SubType=o(t.sub_type_title),this.SubTypeId=o(t.sub_type_id)&&Number.parseInt(t.sub_type_id,10)||null,this.Utility=t.utility_title,this.UtilityId=t.utility_id&&Number.parseInt(t.utility_id,10)||null,this.IsExpired=!![!0,!1].includes(t.is_expired)&&t.is_expired,this.Zone=o(t.zone_title),this.StartDate=t.start_date,this.ImportedDate=t.imported_date,this.Supplier=t.supplier_title,this.SupplierId=t.supplier_id&&Number.parseInt(t.supplier_id,10)||null,this.SupplierLogo=t.supplier_logo,this.Swing=t.swing,this.MinLoadFactor=t.min_load_factor,this.AboutSupplier=t.supplier_about,this.IsPOBoxNotAllowed=t.supplier_is_pobox_address_not_allowed||!1,this.POBoxMessage=t.supplier_pobox_message||null,this.Product=t.product_title,this.ProductAlias=t.product_alias,this.ProductId=t.product_id&&Number.parseInt(t.product_id,10)||null,this.Term=t.term_title,this.TermId=this.getTermId(t),this.Price=Number.parseFloat(t.offered_price),this.BasePrice=Number.parseFloat(t.base_price),this.EstimatedSaving=t.estimated_savings,this.PotentialSaving=t.potential_savings,this.Information=t.information,this.ContractingAvailable=t.contracting_available||!1}return Object(s["a"])(e,[{key:"getTermId",value:function(e){var t=null;return e.term_months?t=e.term_months:e.term_id&&(t=e.term_id),t&&(t=Number.parseInt(t,10)),t}},{key:"isGreen",value:function(){return 9===this.ProductId}},{key:"savingValue",value:function(){return this.isFloat(this.EstimatedSaving)?this.EstimatedSaving.toFixed(1):this.isFloat(this.PotentialSaving)?this.PotentialSaving.toFixed(1):""}},{key:"savingLabel",value:function(){return this.isFloat(this.EstimatedSaving)?"Estimated Bill Reduction:":"Potential Bill Reduction:"}},{key:"monthlySaving",value:function(e){var t=this.Price,r=e*t,n=r/12,i=100*n/(100-Number.parseFloat(this.savingValue()))-n;return 1*(i>0?i.toFixed(0):0)}},{key:"termSaving",value:function(e){var t=null!==this.TermId?this.TermId:1;return this.monthlySaving(e)*t}},{key:"newSpend",value:function(e){var t=this.Price,r=e*t,n=r/12;return n.toFixed(0)}},{key:"isFloat",value:function(e){return!Number.isNaN(Number.parseFloat(e))}}],[{key:"toServer",value:function(e){return Object(i["a"])({},e)}},{key:"label",value:function(e){var t={Commodity:"Commodity",RateClass:"Rate Class",StateCode:"State",SubType:"Sub Type",Utility:"Utility",Zone:"Zone",StartDate:"Start Date",Supplier:"Supplier",Product:"Product",Term:"Term",Price:"Price"};return t[e]}},{key:"createFromServer",value:function(t){var r=[];function a(e,t){e.forEach((function(e){Array.isArray(e)?a(e,t):s(e,t)}))}function s(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object.entries(t).forEach((function(e){var t=Object(n["a"])(e,2),r=t[0],i=t[1];Array.isArray(i)?a(i,s):s[r]=i})),Object.keys(t).some((function(e){return"offered_price"===e}))){var o=Object(i["a"])({},s);r.push(new e(o))}}return Array.isArray(t)?t.forEach((function(e){s(e)})):s(t),r}}]),e}()},db49:function(e,t,r){"use strict";r.d(t,"e",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return d})),r.d(t,"b",(function(){return p})),r.d(t,"f",(function(){return f}));var n=Object({NODE_ENV:"production",VUE_APP__API_KEY:"926b9789-7ec9-4847-8e92-6630b8743480",VUE_APP__AUTH_KEY:"dev",VUE_APP__WIDGET_TYPE:"comm-pricing",VUE_APP__WIDGET_KEY_ID:"only-for-local-dev-purpose",VUE_APP__WIDGET_KEY:"only-for-local-dev-purpose",BASE_URL:"https://myservicecloud.net/js/widgets/comm-pricing/build/"}).VUE_APP_RUN_ENV,i="",a="",s="",o="https://bill-scan-dev.myservicecloud.net/";switch(n){case"loc":i="http://msc.loc",a="http://api.msc.loc",o="http://localhost:5025/",s="ws://msc.loc:8080";break;case"dev":i="https://dev.myservicecloud.net",a="https://api-dev.myservicecloud.net",s="wss://dev.myservicecloud.net/websocket";break;case"qa":i="https://qa.myservicecloud.net",a="https://api.qa.myservicecloud.net",s="wss://qa.myservicecloud.net/websocket";break;case"staging":i="https://staging.myservicecloud.net",a="https://api-staging.myservicecloud.net",s="wss://staging.myservicecloud.net/websocket";break;case"new":i="https://new.myservicecloud.net",a="https://api-v3.myservicecloud.net",s="wss://new.myservicecloud.net/websocket";break;default:i="https://myservicecloud.net",a="https://api.myservicecloud.net",s="wss://myservicecloud.net/websocket";break}var c="".concat(a,"/"),l="".concat(o,"/"),u="".concat(a,"/gql"),d=("".concat(i,"/api/graphql"),"".concat(i,"/js/widgets/commercial-shopper")),p=/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,f=s},ddf9:function(e,t,r){"use strict";r("7471")},e023:function(e,t,r){},e55e:function(e,t,r){"use strict";r("6248")},ec82:function(e,t,r){"use strict";r("813c")},f2d3:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("d4ec"),i=(r("d81d"),r("25eb"),r("a9e3"),function e(t){Object(n["a"])(this,e),this.Title=t.title,this.Order=t.order,this.PriceIds=t.price_ids.map((function(e){return Number.parseInt(e,10)}))})},f3e7:function(e,t,r){},f477:function(e,t,r){},f557:function(e,t,r){}});
//# sourceMappingURL=app.a284fb4734e1dbc1f531.1726825162760.js.map